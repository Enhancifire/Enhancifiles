var ch=Object.create,On=Object.defineProperty,lh=Object.getPrototypeOf,dh=Object.prototype.hasOwnProperty,fh=Object.getOwnPropertyNames,ph=Object.getOwnPropertyDescriptor;var Di=t=>On(t,"__esModule",{value:!0});var g=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),Aa=(t,e)=>{for(var r in e)On(t,r,{get:e[r],enumerable:!0})},hh=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of fh(e))!dh.call(t,n)&&n!=="default"&&On(t,n,{get:()=>e[n],enumerable:!(r=ph(e,n))||r.enumerable});return t},q=t=>hh(Di(On(t!=null?ch(lh(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ha=g((Dw,Fa)=>{Fa.exports=Ia;Ia.sync=_h;var $a=require("fs");function bh(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function ja(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:bh(e,r)}function Ia(t,e,r){$a.stat(t,function(n,i){r(n,n?!1:ja(i,t,e))})}function _h(t,e){return ja($a.statSync(t),t,e)}});var Va=g((Aw,Ba)=>{Ba.exports=Wa;Wa.sync=Rh;var Ua=require("fs");function Wa(t,e,r){Ua.stat(t,function(n,i){r(n,n?!1:Ga(i,e))})}function Rh(t,e){return Ga(Ua.statSync(t),e)}function Ga(t,e){return t.isFile()&&wh(t,e)}function wh(t,e){var r=t.mode,n=t.uid,i=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),d=parseInt("001",8),f=a|c,h=r&d||r&c&&i===o||r&a&&n===s||r&f&&s===0;return h}});var Qa=g((qw,za)=>{var Ow=require("fs"),Ln;process.platform==="win32"||global.TESTING_WINDOWS?Ln=Ha():Ln=Va();za.exports=Ni;Ni.sync=Sh;function Ni(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Ni(t,e||{},function(s,o){s?i(s):n(o)})})}Ln(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Sh(t,e){try{return Ln.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var tu=g((Lw,Ya)=>{var wr=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Xa=require("path"),Eh=wr?";":":",Ja=Qa(),Ka=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Za=(t,e)=>{let r=e.colon||Eh,n=t.match(/\//)||wr&&t.match(/\\/)?[""]:[...wr?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=wr?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=wr?i.split(r):[""];return wr&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},eu=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:s}=Za(t,e),o=[],a=d=>new Promise((f,h)=>{if(d===n.length)return e.all&&o.length?f(o):h(Ka(t));let p=n[d],w=/^".*"$/.test(p)?p.slice(1,-1):p,S=Xa.join(w,t),E=!w&&/^\.[\\\/]/.test(t)?t.slice(0,2)+S:S;f(c(E,d,0))}),c=(d,f,h)=>new Promise((p,w)=>{if(h===i.length)return p(a(f+1));let S=i[h];Ja(d+S,{pathExt:s},(E,k)=>{if(!E&&k)if(e.all)o.push(d+S);else return p(d+S);return p(c(d,f,h+1))})});return r?a(0).then(d=>r(null,d),r):a(0)},Ch=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Za(t,e),s=[];for(let o=0;o<r.length;o++){let a=r[o],c=/^".*"$/.test(a)?a.slice(1,-1):a,d=Xa.join(c,t),f=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+d:d;for(let h=0;h<n.length;h++){let p=f+n[h];try{if(Ja.sync(p,{pathExt:i}))if(e.all)s.push(p);else return p}catch(w){}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw Ka(t)};Ya.exports=eu;eu.sync=Ch});var ru=g(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.splitWhen=Sr.flatten=void 0;function xh(t){return t.reduce((e,r)=>[].concat(e,r),[])}Sr.flatten=xh;function Ph(t,e){let r=[[]],n=0;for(let i of t)e(i)?(n++,r[n]=[]):r[n].push(i);return r}Sr.splitWhen=Ph});var nu=g(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.isEnoentCodeError=void 0;function Th(t){return t.code==="ENOENT"}Nn.isEnoentCodeError=Th});var su=g(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.createDirentFromStats=void 0;var iu=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function kh(t,e){return new iu(t,e)}Mn.createDirentFromStats=kh});var ou=g(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.removeLeadingDotSegment=pt.escape=pt.makeAbsolute=pt.unixify=void 0;var Dh=require("path"),Ah=2,Oh=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function qh(t){return t.replace(/\\/g,"/")}pt.unixify=qh;function Lh(t,e){return Dh.resolve(t,e)}pt.makeAbsolute=Lh;function Nh(t){return t.replace(Oh,"\\$2")}pt.escape=Nh;function Mh(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(Ah)}return t}pt.removeLeadingDotSegment=Mh});var uu=g(($w,au)=>{au.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var lu=g((jw,cu)=>{var Fh=uu(),Ih={"{":"}","(":")","[":"]"},$h=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,jh=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;cu.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Fh(e))return!0;var n=$h,i;for(r&&r.strict===!1&&(n=jh);i=n.exec(e);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?Ih[o]:null;if(o&&a){var c=e.indexOf(a,s);c!==-1&&(s=c+1)}e=e.slice(s)}return!1}});var fu=g((Hw,du)=>{"use strict";var Hh=lu(),Bh=require("path").posix.dirname,Wh=require("os").platform()==="win32",Mi="/",Uh=/\\/g,Gh=/[\{\[].*[\}\]]$/,Vh=/(^|[^\\])([\{\[]|\([^\)]+$)/,zh=/\\([\!\*\?\|\[\]\(\)\{\}])/g;du.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Wh&&e.indexOf(Mi)<0&&(e=e.replace(Uh,Mi)),Gh.test(e)&&(e+=Mi),e+="a";do e=Bh(e);while(Hh(e)||Vh.test(e));return e.replace(zh,"$1")}});var Fn=g(Ye=>{"use strict";Ye.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Ye.find=(t,e)=>t.nodes.find(r=>r.type===e);Ye.exceedsLimit=(t,e,r=1,n)=>n===!1||!Ye.isInteger(t)||!Ye.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;Ye.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Ye.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0==0?(t.invalid=!0,!0):!1;Ye.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0==0||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Ye.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Ye.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Ye.flatten=(...t)=>{let e=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,e):s!==void 0&&e.push(s)}return e};return r(t),e}});var In=g((Ww,pu)=>{"use strict";var hu=Fn();pu.exports=(t,e={})=>{let r=(n,i={})=>{let s=e.escapeInvalid&&hu.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(s||o)&&hu.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var gu=g((Uw,mu)=>{"use strict";mu.exports=function(t){return typeof t=="number"?t-t==0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var Cu=g((Gw,vu)=>{"use strict";var yu=gu(),er=(t,e,r)=>{if(yu(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(yu(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+i+s+o+a;if(er.cache.hasOwnProperty(c))return er.cache[c].result;let d=Math.min(t,e),f=Math.max(t,e);if(Math.abs(d-f)===1){let E=t+"|"+e;return n.capture?`(${E})`:n.wrap===!1?E:`(?:${E})`}let h=bu(t)||bu(e),p={min:t,max:e,a:d,b:f},w=[],S=[];if(h&&(p.isPadded=h,p.maxLen=String(p.max).length),d<0){let E=f<0?Math.abs(f):1;S=_u(E,Math.abs(d),p,n),d=p.a=0}return f>=0&&(w=_u(d,f,p,n)),p.negatives=S,p.positives=w,p.result=Qh(S,w,n),n.capture===!0?p.result=`(${p.result})`:n.wrap!==!1&&w.length+S.length>1&&(p.result=`(?:${p.result})`),er.cache[c]=p,p.result};function Qh(t,e,r){let n=Fi(t,e,"-",!1,r)||[],i=Fi(e,t,"",!1,r)||[],s=Fi(t,e,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function Xh(t,e){let r=1,n=1,i=Ru(t,r),s=new Set([e]);for(;t<=i&&i<=e;)s.add(i),r+=1,i=Ru(t,r);for(i=wu(e+1,n)-1;t<i&&i<=e;)s.add(i),n+=1,i=wu(e+1,n)-1;return s=[...s],s.sort(Yh),s}function Zh(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=Jh(t,e),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[c,d]=n[a];c===d?s+=c:c!=="0"||d!=="9"?s+=Kh(c,d,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function _u(t,e,r,n){let i=Xh(t,e),s=[],o=t,a;for(let c=0;c<i.length;c++){let d=i[c],f=Zh(String(o),String(d),n),h="";if(!r.isPadded&&a&&a.pattern===f.pattern){a.count.length>1&&a.count.pop(),a.count.push(f.count[0]),a.string=a.pattern+Su(a.count),o=d+1;continue}r.isPadded&&(h=em(d,r,n)),f.string=h+f.pattern+Su(f.count),s.push(f),o=d+1,a=f}return s}function Fi(t,e,r,n,i){let s=[];for(let o of t){let{string:a}=o;!n&&!Eu(e,"string",a)&&s.push(r+a),n&&Eu(e,"string",a)&&s.push(r+a)}return s}function Jh(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function Yh(t,e){return t>e?1:e>t?-1:0}function Eu(t,e,r){return t.some(n=>n[e]===r)}function Ru(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function wu(t,e){return t-t%Math.pow(10,e)}function Su(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function Kh(t,e,r){return`[${t}${e-t==1?"":"-"}${e}]`}function bu(t){return/^-?(0+)\d/.test(t)}function em(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}er.cache={};er.clearCache=()=>er.cache={};vu.exports=er});var ji=g((Vw,xu)=>{"use strict";var tm=require("util"),Pu=Cu(),Tu=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),rm=t=>e=>t===!0?Number(e):String(e),Ii=t=>typeof t=="number"||typeof t=="string"&&t!=="",nn=t=>Number.isInteger(+t),$i=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},nm=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,im=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},ku=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},sm=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",n="",i="",s;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(i=`-(${r}${t.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,e.wrap?`(${r}${s})`:s},Du=(t,e,r,n)=>{if(r)return Pu(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);if(t===e)return i;let s=String.fromCharCode(e);return`[${i}-${s}]`},Au=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${t.join("|")})`:t.join("|")}return Pu(t,e,r)},Ou=(...t)=>new RangeError("Invalid range arguments: "+tm.inspect(...t)),qu=(t,e,r)=>{if(r.strictRanges===!0)throw Ou([t,e]);return[]},om=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},am=(t,e,r=1,n={})=>{let i=Number(t),s=Number(e);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Ou([t,e]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(t),c=String(e),d=String(r);r=Math.max(Math.abs(r),1);let f=$i(a)||$i(c)||$i(d),h=f?Math.max(a.length,c.length,d.length):0,p=f===!1&&nm(t,e,n)===!1,w=n.transform||rm(p);if(n.toRegex&&r===1)return Du(ku(t,h),ku(e,h),!0,n);let S={negatives:[],positives:[]},E=F=>S[F<0?"negatives":"positives"].push(Math.abs(F)),k=[],A=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?E(i):k.push(im(w(i,A),h,p)),i=o?i-r:i+r,A++;return n.toRegex===!0?r>1?sm(S,n):Au(k,null,{wrap:!1,...n}):k},um=(t,e,r=1,n={})=>{if(!nn(t)&&t.length>1||!nn(e)&&e.length>1)return qu(t,e,n);let i=n.transform||(p=>String.fromCharCode(p)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,c=Math.min(s,o),d=Math.max(s,o);if(n.toRegex&&r===1)return Du(c,d,!1,n);let f=[],h=0;for(;a?s>=o:s<=o;)f.push(i(s,h)),s=a?s-r:s+r,h++;return n.toRegex===!0?Au(f,null,{wrap:!1,options:n}):f},$n=(t,e,r,n={})=>{if(e==null&&Ii(t))return[t];if(!Ii(t)||!Ii(e))return qu(t,e,n);if(typeof r=="function")return $n(t,e,1,{transform:r});if(Tu(r))return $n(t,e,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,nn(r)?nn(t)&&nn(e)?am(t,e,r,i):um(t,e,Math.max(Math.abs(r),1),i):r!=null&&!Tu(r)?om(r,i):$n(t,e,1,r)};xu.exports=$n});var Mu=g((zw,Lu)=>{"use strict";var cm=ji(),Nu=Fn(),lm=(t,e={})=>{let r=(n,i={})=>{let s=Nu.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a=s===!0||o===!0,c=e.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let f=Nu.reduce(n.nodes),h=cm(...f,{...e,wrap:!1,toRegex:!0});if(h.length!==0)return f.length>1&&h.length>1?`(${h})`:h}if(n.nodes)for(let f of n.nodes)d+=r(f,n);return d};return r(t)};Lu.exports=lm});var $u=g((Qw,Fu)=>{"use strict";var dm=ji(),Iu=In(),Er=Fn(),tr=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Er.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let s of i)n.push(tr(s,e,r));else for(let s of e)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?tr(i,s,r):i+s);return Er.flatten(n)},fm=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(tr(a.pop(),Iu(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(tr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let h=Er.reduce(i.nodes);if(Er.exceedsLimit(...h,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let p=dm(...h,e);p.length===0&&(p=Iu(i,e)),a.push(tr(a.pop(),p)),i.nodes=[];return}let c=Er.encloseBrace(i),d=i.queue,f=i;for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,d=f.queue;for(let h=0;h<i.nodes.length;h++){let p=i.nodes[h];if(p.type==="comma"&&i.type==="brace"){h===1&&d.push(""),d.push("");continue}if(p.type==="close"){a.push(tr(a.pop(),d,c));continue}if(p.value&&p.type!=="open"){d.push(tr(d.pop(),p.value));continue}p.nodes&&n(p,i)}return d};return Er.flatten(n(t))};Fu.exports=fm});var Hu=g((Yw,ju)=>{"use strict";ju.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Vu=g((Xw,Bu)=>{"use strict";var pm=In(),{MAX_LENGTH:Wu,CHAR_BACKSLASH:Hi,CHAR_BACKTICK:hm,CHAR_COMMA:mm,CHAR_DOT:gm,CHAR_LEFT_PARENTHESES:vm,CHAR_RIGHT_PARENTHESES:ym,CHAR_LEFT_CURLY_BRACE:_m,CHAR_RIGHT_CURLY_BRACE:bm,CHAR_LEFT_SQUARE_BRACKET:Uu,CHAR_RIGHT_SQUARE_BRACKET:Gu,CHAR_DOUBLE_QUOTE:Rm,CHAR_SINGLE_QUOTE:wm,CHAR_NO_BREAK_SPACE:Sm,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Em}=Hu(),Cm=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(Wu,r.maxLength):Wu;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i={type:"root",input:t,nodes:[]},s=[i],o=i,a=i,c=0,d=t.length,f=0,h=0,p,w={},S=()=>t[f++],E=k=>{if(k.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&k.type==="text"){a.value+=k.value;return}return o.nodes.push(k),k.parent=o,k.prev=a,a=k,k};for(E({type:"bos"});f<d;)if(o=s[s.length-1],p=S(),!(p===Em||p===Sm)){if(p===Hi){E({type:"text",value:(e.keepEscaping?p:"")+S()});continue}if(p===Gu){E({type:"text",value:"\\"+p});continue}if(p===Uu){c++;let k=!0,A;for(;f<d&&(A=S());){if(p+=A,A===Uu){c++;continue}if(A===Hi){p+=S();continue}if(A===Gu&&(c--,c===0))break}E({type:"text",value:p});continue}if(p===vm){o=E({type:"paren",nodes:[]}),s.push(o),E({type:"text",value:p});continue}if(p===ym){if(o.type!=="paren"){E({type:"text",value:p});continue}o=s.pop(),E({type:"text",value:p}),o=s[s.length-1];continue}if(p===Rm||p===wm||p===hm){let k=p,A;for(e.keepQuotes!==!0&&(p="");f<d&&(A=S());){if(A===Hi){p+=A+S();continue}if(A===k){e.keepQuotes===!0&&(p+=A);break}p+=A}E({type:"text",value:p});continue}if(p===_m){h++;let k=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=E({type:"brace",open:!0,close:!1,dollar:k,depth:h,commas:0,ranges:0,nodes:[]}),s.push(o),E({type:"open",value:p});continue}if(p===bm){if(o.type!=="brace"){E({type:"text",value:p});continue}let k="close";o=s.pop(),o.close=!0,E({type:k,value:p}),h--,o=s[s.length-1];continue}if(p===mm&&h>0){if(o.ranges>0){o.ranges=0;let k=o.nodes.shift();o.nodes=[k,{type:"text",value:pm(o)}]}E({type:"comma",value:p}),o.commas++;continue}if(p===gm&&h>0&&o.commas===0){let k=o.nodes;if(h===0||k.length===0){E({type:"text",value:p});continue}if(a.type==="dot"){if(o.range=[],a.value+=p,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){k.pop();let A=k[k.length-1];A.value+=a.value+p,a=A,o.ranges--;continue}E({type:"dot",value:p});continue}E({type:"text",value:p})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(F=>{F.nodes||(F.type==="open"&&(F.isOpen=!0),F.type==="close"&&(F.isClose=!0),F.nodes||(F.type="text"),F.invalid=!0)});let k=s[s.length-1],A=k.nodes.indexOf(o);k.nodes.splice(A,1,...o.nodes)}while(s.length>0);return E({type:"eos"}),i};Bu.exports=Cm});var Yu=g((Jw,zu)=>{"use strict";var Qu=In(),xm=Mu(),Pm=$u(),Tm=Vu(),Ge=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let i=Ge.create(n,e);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ge.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Ge.parse=(t,e={})=>Tm(t,e);Ge.stringify=(t,e={})=>typeof t=="string"?Qu(Ge.parse(t,e),e):Qu(t,e);Ge.compile=(t,e={})=>(typeof t=="string"&&(t=Ge.parse(t,e)),xm(t,e));Ge.expand=(t,e={})=>{typeof t=="string"&&(t=Ge.parse(t,e));let r=Pm(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Ge.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Ge.compile(t,e):Ge.expand(t,e);zu.exports=Ge});var sn=g((Kw,Xu)=>{"use strict";var km=require("path"),ht="\\\\/",Ju=`[^${ht}]`,xt="\\.",Dm="\\+",Am="\\?",jn="\\/",Om="(?=.)",Ku="[^/]",Bi=`(?:${jn}|$)`,Zu=`(?:^|${jn})`,Wi=`${xt}{1,2}${Bi}`,qm=`(?!${xt})`,Lm=`(?!${Zu}${Wi})`,Nm=`(?!${xt}{0,1}${Bi})`,Mm=`(?!${Wi})`,Fm=`[^.${jn}]`,Im=`${Ku}*?`,ec={DOT_LITERAL:xt,PLUS_LITERAL:Dm,QMARK_LITERAL:Am,SLASH_LITERAL:jn,ONE_CHAR:Om,QMARK:Ku,END_ANCHOR:Bi,DOTS_SLASH:Wi,NO_DOT:qm,NO_DOTS:Lm,NO_DOT_SLASH:Nm,NO_DOTS_SLASH:Mm,QMARK_NO_DOT:Fm,STAR:Im,START_ANCHOR:Zu},$m={...ec,SLASH_LITERAL:`[${ht}]`,QMARK:Ju,STAR:`${Ju}*?`,DOTS_SLASH:`${xt}{1,2}(?:[${ht}]|$)`,NO_DOT:`(?!${xt})`,NO_DOTS:`(?!(?:^|[${ht}])${xt}{1,2}(?:[${ht}]|$))`,NO_DOT_SLASH:`(?!${xt}{0,1}(?:[${ht}]|$))`,NO_DOTS_SLASH:`(?!${xt}{1,2}(?:[${ht}]|$))`,QMARK_NO_DOT:`[^.${ht}]`,START_ANCHOR:`(?:^|[${ht}])`,END_ANCHOR:`(?:[${ht}]|$)`},jm={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Xu.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:jm,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:km.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?$m:ec}}});var on=g(He=>{"use strict";var Hm=require("path"),Bm=process.platform==="win32",{REGEX_BACKSLASH:Wm,REGEX_REMOVE_BACKSLASH:Um,REGEX_SPECIAL_CHARS:Gm,REGEX_SPECIAL_CHARS_GLOBAL:Vm}=sn();He.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);He.hasRegexChars=t=>Gm.test(t);He.isRegexChar=t=>t.length===1&&He.hasRegexChars(t);He.escapeRegex=t=>t.replace(Vm,"\\$1");He.toPosixSlashes=t=>t.replace(Wm,"/");He.removeBackslashes=t=>t.replace(Um,e=>e==="\\"?"":e);He.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};He.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Bm===!0||Hm.sep==="\\";He.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?He.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};He.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};He.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${t})${i}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var uc=g((eS,tc)=>{"use strict";var rc=on(),{CHAR_ASTERISK:Ui,CHAR_AT:zm,CHAR_BACKWARD_SLASH:an,CHAR_COMMA:Qm,CHAR_DOT:Gi,CHAR_EXCLAMATION_MARK:Vi,CHAR_FORWARD_SLASH:nc,CHAR_LEFT_CURLY_BRACE:zi,CHAR_LEFT_PARENTHESES:Qi,CHAR_LEFT_SQUARE_BRACKET:Ym,CHAR_PLUS:Xm,CHAR_QUESTION_MARK:ic,CHAR_RIGHT_CURLY_BRACE:Jm,CHAR_RIGHT_PARENTHESES:sc,CHAR_RIGHT_SQUARE_BRACKET:Km}=sn(),oc=t=>t===nc||t===an,ac=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?Infinity:1)},Zm=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],c=t,d=-1,f=0,h=0,p=!1,w=!1,S=!1,E=!1,k=!1,A=!1,F=!1,z=!1,Q=!1,N=!1,re=0,j,O,Y={value:"",depth:0,isGlob:!1},_e=()=>d>=n,_=()=>c.charCodeAt(d+1),ne=()=>(j=O,c.charCodeAt(++d));for(;d<n;){O=ne();let Ee;if(O===an){F=Y.backslashes=!0,O=ne(),O===zi&&(A=!0);continue}if(A===!0||O===zi){for(re++;_e()!==!0&&(O=ne());){if(O===an){F=Y.backslashes=!0,ne();continue}if(O===zi){re++;continue}if(A!==!0&&O===Gi&&(O=ne())===Gi){if(p=Y.isBrace=!0,S=Y.isGlob=!0,N=!0,i===!0)continue;break}if(A!==!0&&O===Qm){if(p=Y.isBrace=!0,S=Y.isGlob=!0,N=!0,i===!0)continue;break}if(O===Jm&&(re--,re===0)){A=!1,p=Y.isBrace=!0,N=!0;break}}if(i===!0)continue;break}if(O===nc){if(s.push(d),o.push(Y),Y={value:"",depth:0,isGlob:!1},N===!0)continue;if(j===Gi&&d===f+1){f+=2;continue}h=d+1;continue}if(r.noext!==!0&&(O===Xm||O===zm||O===Ui||O===ic||O===Vi)===!0&&_()===Qi){if(S=Y.isGlob=!0,E=Y.isExtglob=!0,N=!0,O===Vi&&d===f&&(Q=!0),i===!0){for(;_e()!==!0&&(O=ne());){if(O===an){F=Y.backslashes=!0,O=ne();continue}if(O===sc){S=Y.isGlob=!0,N=!0;break}}continue}break}if(O===Ui){if(j===Ui&&(k=Y.isGlobstar=!0),S=Y.isGlob=!0,N=!0,i===!0)continue;break}if(O===ic){if(S=Y.isGlob=!0,N=!0,i===!0)continue;break}if(O===Ym){for(;_e()!==!0&&(Ee=ne());){if(Ee===an){F=Y.backslashes=!0,ne();continue}if(Ee===Km){w=Y.isBracket=!0,S=Y.isGlob=!0,N=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&O===Vi&&d===f){z=Y.negated=!0,f++;continue}if(r.noparen!==!0&&O===Qi){if(S=Y.isGlob=!0,i===!0){for(;_e()!==!0&&(O=ne());){if(O===Qi){F=Y.backslashes=!0,O=ne();continue}if(O===sc){N=!0;break}}continue}break}if(S===!0){if(N=!0,i===!0)continue;break}}r.noext===!0&&(E=!1,S=!1);let ie=c,lt="",v="";f>0&&(lt=c.slice(0,f),c=c.slice(f),h-=f),ie&&S===!0&&h>0?(ie=c.slice(0,h),v=c.slice(h)):S===!0?(ie="",v=c):ie=c,ie&&ie!==""&&ie!=="/"&&ie!==c&&oc(ie.charCodeAt(ie.length-1))&&(ie=ie.slice(0,-1)),r.unescape===!0&&(v&&(v=rc.removeBackslashes(v)),ie&&F===!0&&(ie=rc.removeBackslashes(ie)));let y={prefix:lt,input:t,start:f,base:ie,glob:v,isBrace:p,isBracket:w,isGlob:S,isExtglob:E,isGlobstar:k,negated:z,negatedExtglob:Q};if(r.tokens===!0&&(y.maxDepth=0,oc(O)||o.push(Y),y.tokens=o),r.parts===!0||r.tokens===!0){let Ee;for(let U=0;U<s.length;U++){let ke=Ee?Ee+1:f,Ue=s[U],Me=t.slice(ke,Ue);r.tokens&&(U===0&&f!==0?(o[U].isPrefix=!0,o[U].value=lt):o[U].value=Me,ac(o[U]),y.maxDepth+=o[U].depth),(U!==0||Me!=="")&&a.push(Me),Ee=Ue}if(Ee&&Ee+1<t.length){let U=t.slice(Ee+1);a.push(U),r.tokens&&(o[o.length-1].value=U,ac(o[o.length-1]),y.maxDepth+=o[o.length-1].depth)}y.slashes=s,y.parts=a}return y};tc.exports=Zm});var fc=g((tS,cc)=>{"use strict";var Hn=sn(),Ve=on(),{MAX_LENGTH:Bn,POSIX_REGEX_SOURCE:eg,REGEX_NON_SPECIAL_CHARS:tg,REGEX_SPECIAL_CHARS_BACKREF:rg,REPLACEMENTS:lc}=Hn,ng=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch(n){return t.map(i=>Ve.escapeRegex(i)).join("..")}return r},Cr=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,dc=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=lc[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Bn,r.maxLength):Bn,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",c=Ve.isWindows(e),d=Hn.globChars(c),f=Hn.extglobChars(d),{DOT_LITERAL:h,PLUS_LITERAL:p,SLASH_LITERAL:w,ONE_CHAR:S,DOTS_SLASH:E,NO_DOT:k,NO_DOT_SLASH:A,NO_DOTS_SLASH:F,QMARK:z,QMARK_NO_DOT:Q,STAR:N,START_ANCHOR:re}=d,j=P=>`(${a}(?:(?!${re}${P.dot?E:h}).)*?)`,O=r.dot?"":k,Y=r.dot?z:Q,_e=r.bash===!0?j(r):N;r.capture&&(_e=`(${_e})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let _={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=Ve.removePrefix(t,_),i=t.length;let ne=[],ie=[],lt=[],v=s,y,Ee=()=>_.index===i-1,U=_.peek=(P=1)=>t[_.index+P],ke=_.advance=()=>t[++_.index]||"",Ue=()=>t.slice(_.index+1),Me=(P="",se=0)=>{_.consumed+=P,_.index+=se},gr=P=>{_.output+=P.output!=null?P.output:P.value,Me(P.value)},An=()=>{let P=1;for(;U()==="!"&&(U(2)!=="("||U(3)==="?");)ke(),_.start++,P++;return P%2==0?!1:(_.negated=!0,_.start++,!0)},vr=P=>{_[P]++,lt.push(P)},wt=P=>{_[P]--,lt.pop()},H=P=>{if(v.type==="globstar"){let se=_.braces>0&&(P.type==="comma"||P.type==="brace"),C=P.extglob===!0||ne.length&&(P.type==="pipe"||P.type==="paren");P.type!=="slash"&&P.type!=="paren"&&!se&&!C&&(_.output=_.output.slice(0,-v.output.length),v.type="star",v.value="*",v.output=_e,_.output+=v.output)}if(ne.length&&P.type!=="paren"&&(ne[ne.length-1].inner+=P.value),(P.value||P.output)&&gr(P),v&&v.type==="text"&&P.type==="text"){v.value+=P.value,v.output=(v.output||"")+P.value;return}P.prev=v,o.push(P),v=P},yr=(P,se)=>{let C={...f[se],conditions:1,inner:""};C.prev=v,C.parens=_.parens,C.output=_.output;let I=(r.capture?"(":"")+C.open;vr("parens"),H({type:P,value:se,output:_.output?"":S}),H({type:"paren",extglob:!0,value:ke(),output:I}),ne.push(C)},Ti=P=>{let se=P.close+(r.capture?")":""),C;if(P.type==="negate"){let I=_e;P.inner&&P.inner.length>1&&P.inner.includes("/")&&(I=j(r)),(I!==_e||Ee()||/^\)+$/.test(Ue()))&&(se=P.close=`)$))${I}`),P.inner.includes("*")&&(C=Ue())&&/^\.[^\\/.]+$/.test(C)&&(se=P.close=`)${C})${I})`),P.prev.type==="bos"&&(_.negatedExtglob=!0)}H({type:"paren",extglob:!0,value:y,output:se}),wt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let P=!1,se=t.replace(rg,(C,I,pe,De,ve,dt)=>De==="\\"?(P=!0,C):De==="?"?I?I+De+(ve?z.repeat(ve.length):""):dt===0?Y+(ve?z.repeat(ve.length):""):z.repeat(pe.length):De==="."?h.repeat(pe.length):De==="*"?I?I+De+(ve?_e:""):_e:I?C:`\\${C}`);return P===!0&&(r.unescape===!0?se=se.replace(/\\/g,""):se=se.replace(/\\+/g,C=>C.length%2==0?"\\\\":C?"\\":"")),se===t&&r.contains===!0?(_.output=t,_):(_.output=Ve.wrapOutput(se,_,e),_)}for(;!Ee();){if(y=ke(),y==="\0")continue;if(y==="\\"){let C=U();if(C==="/"&&r.bash!==!0||C==="."||C===";")continue;if(!C){y+="\\",H({type:"text",value:y});continue}let I=/^\\+/.exec(Ue()),pe=0;if(I&&I[0].length>2&&(pe=I[0].length,_.index+=pe,pe%2!=0&&(y+="\\")),r.unescape===!0?y=ke():y+=ke(),_.brackets===0){H({type:"text",value:y});continue}}if(_.brackets>0&&(y!=="]"||v.value==="["||v.value==="[^")){if(r.posix!==!1&&y===":"){let C=v.value.slice(1);if(C.includes("[")&&(v.posix=!0,C.includes(":"))){let I=v.value.lastIndexOf("["),pe=v.value.slice(0,I),De=v.value.slice(I+2),ve=eg[De];if(ve){v.value=pe+ve,_.backtrack=!0,ke(),!s.output&&o.indexOf(v)===1&&(s.output=S);continue}}}(y==="["&&U()!==":"||y==="-"&&U()==="]")&&(y=`\\${y}`),y==="]"&&(v.value==="["||v.value==="[^")&&(y=`\\${y}`),r.posix===!0&&y==="!"&&v.value==="["&&(y="^"),v.value+=y,gr({value:y});continue}if(_.quotes===1&&y!=='"'){y=Ve.escapeRegex(y),v.value+=y,gr({value:y});continue}if(y==='"'){_.quotes=_.quotes===1?0:1,r.keepQuotes===!0&&H({type:"text",value:y});continue}if(y==="("){vr("parens"),H({type:"paren",value:y});continue}if(y===")"){if(_.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Cr("opening","("));let C=ne[ne.length-1];if(C&&_.parens===C.parens+1){Ti(ne.pop());continue}H({type:"paren",value:y,output:_.parens?")":"\\)"}),wt("parens");continue}if(y==="["){if(r.nobracket===!0||!Ue().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Cr("closing","]"));y=`\\${y}`}else vr("brackets");H({type:"bracket",value:y});continue}if(y==="]"){if(r.nobracket===!0||v&&v.type==="bracket"&&v.value.length===1){H({type:"text",value:y,output:`\\${y}`});continue}if(_.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Cr("opening","["));H({type:"text",value:y,output:`\\${y}`});continue}wt("brackets");let C=v.value.slice(1);if(v.posix!==!0&&C[0]==="^"&&!C.includes("/")&&(y=`/${y}`),v.value+=y,gr({value:y}),r.literalBrackets===!1||Ve.hasRegexChars(C))continue;let I=Ve.escapeRegex(v.value);if(_.output=_.output.slice(0,-v.value.length),r.literalBrackets===!0){_.output+=I,v.value=I;continue}v.value=`(${a}${I}|${v.value})`,_.output+=v.value;continue}if(y==="{"&&r.nobrace!==!0){vr("braces");let C={type:"brace",value:y,output:"(",outputIndex:_.output.length,tokensIndex:_.tokens.length};ie.push(C),H(C);continue}if(y==="}"){let C=ie[ie.length-1];if(r.nobrace===!0||!C){H({type:"text",value:y,output:y});continue}let I=")";if(C.dots===!0){let pe=o.slice(),De=[];for(let ve=pe.length-1;ve>=0&&(o.pop(),pe[ve].type!=="brace");ve--)pe[ve].type!=="dots"&&De.unshift(pe[ve].value);I=ng(De,r),_.backtrack=!0}if(C.comma!==!0&&C.dots!==!0){let pe=_.output.slice(0,C.outputIndex),De=_.tokens.slice(C.tokensIndex);C.value=C.output="\\{",y=I="\\}",_.output=pe;for(let ve of De)_.output+=ve.output||ve.value}H({type:"brace",value:y,output:I}),wt("braces"),ie.pop();continue}if(y==="|"){ne.length>0&&ne[ne.length-1].conditions++,H({type:"text",value:y});continue}if(y===","){let C=y,I=ie[ie.length-1];I&&lt[lt.length-1]==="braces"&&(I.comma=!0,C="|"),H({type:"comma",value:y,output:C});continue}if(y==="/"){if(v.type==="dot"&&_.index===_.start+1){_.start=_.index+1,_.consumed="",_.output="",o.pop(),v=s;continue}H({type:"slash",value:y,output:w});continue}if(y==="."){if(_.braces>0&&v.type==="dot"){v.value==="."&&(v.output=h);let C=ie[ie.length-1];v.type="dots",v.output+=y,v.value+=y,C.dots=!0;continue}if(_.braces+_.parens===0&&v.type!=="bos"&&v.type!=="slash"){H({type:"text",value:y,output:h});continue}H({type:"dot",value:y,output:h});continue}if(y==="?"){if(!(v&&v.value==="(")&&r.noextglob!==!0&&U()==="("&&U(2)!=="?"){yr("qmark",y);continue}if(v&&v.type==="paren"){let I=U(),pe=y;if(I==="<"&&!Ve.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(v.value==="("&&!/[!=<:]/.test(I)||I==="<"&&!/<([!=]|\w+>)/.test(Ue()))&&(pe=`\\${y}`),H({type:"text",value:y,output:pe});continue}if(r.dot!==!0&&(v.type==="slash"||v.type==="bos")){H({type:"qmark",value:y,output:Q});continue}H({type:"qmark",value:y,output:z});continue}if(y==="!"){if(r.noextglob!==!0&&U()==="("&&(U(2)!=="?"||!/[!=<:]/.test(U(3)))){yr("negate",y);continue}if(r.nonegate!==!0&&_.index===0){An();continue}}if(y==="+"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){yr("plus",y);continue}if(v&&v.value==="("||r.regex===!1){H({type:"plus",value:y,output:p});continue}if(v&&(v.type==="bracket"||v.type==="paren"||v.type==="brace")||_.parens>0){H({type:"plus",value:y});continue}H({type:"plus",value:p});continue}if(y==="@"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){H({type:"at",extglob:!0,value:y,output:""});continue}H({type:"text",value:y});continue}if(y!=="*"){(y==="$"||y==="^")&&(y=`\\${y}`);let C=tg.exec(Ue());C&&(y+=C[0],_.index+=C[0].length),H({type:"text",value:y});continue}if(v&&(v.type==="globstar"||v.star===!0)){v.type="star",v.star=!0,v.value+=y,v.output=_e,_.backtrack=!0,_.globstar=!0,Me(y);continue}let P=Ue();if(r.noextglob!==!0&&/^\([^?]/.test(P)){yr("star",y);continue}if(v.type==="star"){if(r.noglobstar===!0){Me(y);continue}let C=v.prev,I=C.prev,pe=C.type==="slash"||C.type==="bos",De=I&&(I.type==="star"||I.type==="globstar");if(r.bash===!0&&(!pe||P[0]&&P[0]!=="/")){H({type:"star",value:y,output:""});continue}let ve=_.braces>0&&(C.type==="comma"||C.type==="brace"),dt=ne.length&&(C.type==="pipe"||C.type==="paren");if(!pe&&C.type!=="paren"&&!ve&&!dt){H({type:"star",value:y,output:""});continue}for(;P.slice(0,3)==="/**";){let ft=t[_.index+4];if(ft&&ft!=="/")break;P=P.slice(3),Me("/**",3)}if(C.type==="bos"&&Ee()){v.type="globstar",v.value+=y,v.output=j(r),_.output=v.output,_.globstar=!0,Me(y);continue}if(C.type==="slash"&&C.prev.type!=="bos"&&!De&&Ee()){_.output=_.output.slice(0,-(C.output+v.output).length),C.output=`(?:${C.output}`,v.type="globstar",v.output=j(r)+(r.strictSlashes?")":"|$)"),v.value+=y,_.globstar=!0,_.output+=C.output+v.output,Me(y);continue}if(C.type==="slash"&&C.prev.type!=="bos"&&P[0]==="/"){let ft=P[1]!==void 0?"|$":"";_.output=_.output.slice(0,-(C.output+v.output).length),C.output=`(?:${C.output}`,v.type="globstar",v.output=`${j(r)}${w}|${w}${ft})`,v.value+=y,_.output+=C.output+v.output,_.globstar=!0,Me(y+ke()),H({type:"slash",value:"/",output:""});continue}if(C.type==="bos"&&P[0]==="/"){v.type="globstar",v.value+=y,v.output=`(?:^|${w}|${j(r)}${w})`,_.output=v.output,_.globstar=!0,Me(y+ke()),H({type:"slash",value:"/",output:""});continue}_.output=_.output.slice(0,-v.output.length),v.type="globstar",v.output=j(r),v.value+=y,_.output+=v.output,_.globstar=!0,Me(y);continue}let se={type:"star",value:y,output:_e};if(r.bash===!0){se.output=".*?",(v.type==="bos"||v.type==="slash")&&(se.output=O+se.output),H(se);continue}if(v&&(v.type==="bracket"||v.type==="paren")&&r.regex===!0){se.output=y,H(se);continue}(_.index===_.start||v.type==="slash"||v.type==="dot")&&(v.type==="dot"?(_.output+=A,v.output+=A):r.dot===!0?(_.output+=F,v.output+=F):(_.output+=O,v.output+=O),U()!=="*"&&(_.output+=S,v.output+=S)),H(se)}for(;_.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Cr("closing","]"));_.output=Ve.escapeLast(_.output,"["),wt("brackets")}for(;_.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Cr("closing",")"));_.output=Ve.escapeLast(_.output,"("),wt("parens")}for(;_.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Cr("closing","}"));_.output=Ve.escapeLast(_.output,"{"),wt("braces")}if(r.strictSlashes!==!0&&(v.type==="star"||v.type==="bracket")&&H({type:"maybe_slash",value:"",output:`${w}?`}),_.backtrack===!0){_.output="";for(let P of _.tokens)_.output+=P.output!=null?P.output:P.value,P.suffix&&(_.output+=P.suffix)}return _};dc.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Bn,r.maxLength):Bn,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=lc[t]||t;let s=Ve.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:f,NO_DOTS:h,NO_DOTS_SLASH:p,STAR:w,START_ANCHOR:S}=Hn.globChars(s),E=r.dot?h:f,k=r.dot?p:f,A=r.capture?"":"?:",F={negated:!1,prefix:""},z=r.bash===!0?".*?":w;r.capture&&(z=`(${z})`);let Q=O=>O.noglobstar===!0?z:`(${A}(?:(?!${S}${O.dot?d:o}).)*?)`,N=O=>{switch(O){case"*":return`${E}${c}${z}`;case".*":return`${o}${c}${z}`;case"*.*":return`${E}${z}${o}${c}${z}`;case"*/*":return`${E}${z}${a}${c}${k}${z}`;case"**":return E+Q(r);case"**/*":return`(?:${E}${Q(r)}${a})?${k}${c}${z}`;case"**/*.*":return`(?:${E}${Q(r)}${a})?${k}${z}${o}${c}${z}`;case"**/.*":return`(?:${E}${Q(r)}${a})?${o}${c}${z}`;default:{let Y=/^(.*?)\.(\w+)$/.exec(O);if(!Y)return;let _e=N(Y[1]);return _e?_e+o+Y[2]:void 0}}},re=Ve.removePrefix(t,F),j=N(re);return j&&r.strictSlashes!==!0&&(j+=`${a}?`),j};cc.exports=dc});var hc=g((rS,pc)=>{"use strict";var ig=require("path"),sg=uc(),Yi=fc(),Xi=on(),og=sn(),ag=t=>t&&typeof t=="object"&&!Array.isArray(t),ye=(t,e,r=!1)=>{if(Array.isArray(t)){let f=t.map(p=>ye(p,e,r));return p=>{for(let w of f){let S=w(p);if(S)return S}return!1}}let n=ag(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},s=Xi.isWindows(e),o=n?ye.compileRe(t,e):ye.makeRe(t,e,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(i.ignore){let f={...e,ignore:null,onMatch:null,onResult:null};c=ye(i.ignore,f,r)}let d=(f,h=!1)=>{let{isMatch:p,match:w,output:S}=ye.test(f,o,e,{glob:t,posix:s}),E={glob:t,state:a,regex:o,posix:s,input:f,output:S,match:w,isMatch:p};return typeof i.onResult=="function"&&i.onResult(E),p===!1?(E.isMatch=!1,h?E:!1):c(f)?(typeof i.onIgnore=="function"&&i.onIgnore(E),E.isMatch=!1,h?E:!1):(typeof i.onMatch=="function"&&i.onMatch(E),h?E:!0)};return r&&(d.state=a),d};ye.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Xi.toPosixSlashes:null),a=t===n,c=a&&o?o(t):t;return a===!1&&(c=o?o(t):t,a=c===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=ye.matchBase(t,e,r,i):a=e.exec(c)),{isMatch:Boolean(a),match:a,output:c}};ye.matchBase=(t,e,r,n=Xi.isWindows(r))=>(e instanceof RegExp?e:ye.makeRe(e,r)).test(ig.basename(t));ye.isMatch=(t,e,r)=>ye(e,r)(t);ye.parse=(t,e)=>Array.isArray(t)?t.map(r=>ye.parse(r,e)):Yi(t,{...e,fastpaths:!1});ye.scan=(t,e)=>sg(t,e);ye.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=ye.toRegex(a,e);return n===!0&&(c.state=t),c};ye.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=Yi.fastpaths(t,e)),i.output||(i=Yi(t,e)),ye.compileRe(i,e,r,n)};ye.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};ye.constants=og;pc.exports=ye});var Ji=g((nS,mc)=>{"use strict";mc.exports=hc()});var bc=g((iS,gc)=>{"use strict";var vc=require("util"),yc=Yu(),mt=Ji(),Ki=on(),_c=t=>t===""||t==="./",le=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,s=new Set,o=0,a=f=>{s.add(f.output),r&&r.onResult&&r.onResult(f)};for(let f=0;f<e.length;f++){let h=mt(String(e[f]),{...r,onResult:a},!0),p=h.state.negated||h.state.negatedExtglob;p&&o++;for(let w of t){let S=h(w,!0);!(p?!S.isMatch:S.isMatch)||(p?n.add(S.output):(n.delete(S.output),i.add(S.output)))}}let d=(o===e.length?[...s]:[...i]).filter(f=>!n.has(f));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(f=>f.replace(/\\/g,"")):e}return d};le.match=le;le.matcher=(t,e)=>mt(t,e);le.isMatch=(t,e,r)=>mt(e,r)(t);le.any=le.isMatch;le.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=le(t,e,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)o.includes(a)||n.add(a);return[...n]};le.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${vc.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>le.contains(t,n,r));if(typeof e=="string"){if(_c(t)||_c(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return le.isMatch(t,e,{...r,contains:!0})};le.matchKeys=(t,e,r)=>{if(!Ki.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=le(Object.keys(t),e,r),i={};for(let s of n)i[s]=t[s];return i};le.some=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let s=mt(String(i),r);if(n.some(o=>s(o)))return!0}return!1};le.every=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let s=mt(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};le.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${vc.inspect(t)}"`);return[].concat(e).every(n=>mt(n,r)(t))};le.capture=(t,e,r)=>{let n=Ki.isWindows(r),s=mt.makeRe(String(t),{...r,capture:!0}).exec(n?Ki.toPosixSlashes(e):e);if(s)return s.slice(1).map(o=>o===void 0?"":o)};le.makeRe=(...t)=>mt.makeRe(...t);le.scan=(...t)=>mt.scan(...t);le.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let i of yc(String(n),e))r.push(mt.parse(i,e));return r};le.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:yc(t,e)};le.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return le.braces(t,{...e,expand:!0})};gc.exports=le});var kc=g(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.matchAny=B.convertPatternsToRe=B.makeRe=B.getPatternParts=B.expandBraceExpansion=B.expandPatternsWithBraceExpansion=B.isAffectDepthOfReadingPattern=B.endsWithSlashGlobStar=B.hasGlobStar=B.getBaseDirectory=B.getPositivePatterns=B.getNegativePatterns=B.isPositivePattern=B.isNegativePattern=B.convertToNegativePattern=B.convertToPositivePattern=B.isDynamicPattern=B.isStaticPattern=void 0;var ug=require("path"),cg=fu(),Rc=bc(),lg=Ji(),wc="**",dg="\\",fg=/[*?]|^!/,pg=/\[.*]/,hg=/(?:^|[^!*+?@])\(.*\|.*\)/,mg=/[!*+?@]\(.*\)/,gg=/{.*(?:,|\.\.).*}/;function Ec(t,e={}){return!Sc(t,e)}B.isStaticPattern=Ec;function Sc(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(dg)||fg.test(t)||pg.test(t)||hg.test(t)||e.extglob!==!1&&mg.test(t)||e.braceExpansion!==!1&&gg.test(t))}B.isDynamicPattern=Sc;function vg(t){return Wn(t)?t.slice(1):t}B.convertToPositivePattern=vg;function yg(t){return"!"+t}B.convertToNegativePattern=yg;function Wn(t){return t.startsWith("!")&&t[1]!=="("}B.isNegativePattern=Wn;function Cc(t){return!Wn(t)}B.isPositivePattern=Cc;function _g(t){return t.filter(Wn)}B.getNegativePatterns=_g;function bg(t){return t.filter(Cc)}B.getPositivePatterns=bg;function Rg(t){return cg(t,{flipBackslashes:!1})}B.getBaseDirectory=Rg;function wg(t){return t.includes(wc)}B.hasGlobStar=wg;function xc(t){return t.endsWith("/"+wc)}B.endsWithSlashGlobStar=xc;function Sg(t){let e=ug.basename(t);return xc(t)||Ec(e)}B.isAffectDepthOfReadingPattern=Sg;function Eg(t){return t.reduce((e,r)=>e.concat(Pc(r)),[])}B.expandPatternsWithBraceExpansion=Eg;function Pc(t){return Rc.braces(t,{expand:!0,nodupes:!0})}B.expandBraceExpansion=Pc;function Cg(t,e){let{parts:r}=lg.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}B.getPatternParts=Cg;function Tc(t,e){return Rc.makeRe(t,e)}B.makeRe=Tc;function xg(t,e){return t.map(r=>Tc(r,e))}B.convertPatternsToRe=xg;function Pg(t,e){return e.some(r=>r.test(t))}B.matchAny=Pg});var qc=g((oS,Dc)=>{"use strict";var Tg=require("stream"),Ac=Tg.PassThrough,kg=Array.prototype.slice;Dc.exports=Dg;function Dg(){let t=[],e=kg.call(arguments),r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=Ac(n);function a(){for(let f=0,h=arguments.length;f<h;f++)t.push(Oc(arguments[f],n));return c(),this}function c(){if(r)return;r=!0;let f=t.shift();if(!f){process.nextTick(d);return}Array.isArray(f)||(f=[f]);let h=f.length+1;function p(){--h>0||(r=!1,c())}function w(S){function E(){S.removeListener("merge2UnpipeEnd",E),S.removeListener("end",E),s&&S.removeListener("error",k),p()}function k(A){o.emit("error",A)}if(S._readableState.endEmitted)return p();S.on("merge2UnpipeEnd",E),S.on("end",E),s&&S.on("error",k),S.pipe(o,{end:!1}),S.resume()}for(let S=0;S<f.length;S++)w(f[S]);p()}function d(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(f){f.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function Oc(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=Oc(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(Ac(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var Nc=g(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.merge=void 0;var Ag=qc();function Og(t){let e=Ag(t);return t.forEach(r=>{r.once("error",n=>e.emit("error",n))}),e.once("close",()=>Lc(t)),e.once("end",()=>Lc(t)),e}Un.merge=Og;function Lc(t){t.forEach(e=>e.emit("close"))}});var Mc=g(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.isEmpty=xr.isString=void 0;function qg(t){return typeof t=="string"}xr.isString=qg;function Lg(t){return t===""}xr.isEmpty=Lg});var Pt=g(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.string=qe.stream=qe.pattern=qe.path=qe.fs=qe.errno=qe.array=void 0;var Ng=ru();qe.array=Ng;var Mg=nu();qe.errno=Mg;var Fg=su();qe.fs=Fg;var Ig=ou();qe.path=Ig;var $g=kc();qe.pattern=$g;var jg=Nc();qe.stream=jg;var Hg=Mc();qe.string=Hg});var Hc=g(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.convertPatternGroupToTask=Le.convertPatternGroupsToTasks=Le.groupPatternsByBaseDirectory=Le.getNegativePatternsAsPositive=Le.getPositivePatterns=Le.convertPatternsToTasks=Le.generate=void 0;var rr=Pt();function Bg(t,e){let r=Fc(t),n=Ic(t,e.ignore),i=r.filter(c=>rr.pattern.isStaticPattern(c,e)),s=r.filter(c=>rr.pattern.isDynamicPattern(c,e)),o=Zi(i,n,!1),a=Zi(s,n,!0);return o.concat(a)}Le.generate=Bg;function Zi(t,e,r){let n=$c(t);return"."in n?[es(".",t,e,r)]:jc(n,e,r)}Le.convertPatternsToTasks=Zi;function Fc(t){return rr.pattern.getPositivePatterns(t)}Le.getPositivePatterns=Fc;function Ic(t,e){return rr.pattern.getNegativePatterns(t).concat(e).map(rr.pattern.convertToPositivePattern)}Le.getNegativePatternsAsPositive=Ic;function $c(t){let e={};return t.reduce((r,n)=>{let i=rr.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},e)}Le.groupPatternsByBaseDirectory=$c;function jc(t,e,r){return Object.keys(t).map(n=>es(n,t[n],e,r))}Le.convertPatternGroupsToTasks=jc;function es(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(rr.pattern.convertToNegativePattern))}}Le.convertPatternGroupToTask=es});var Wc=g(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.read=void 0;function Wg(t,e,r){e.fs.lstat(t,(n,i)=>{if(n!==null){Bc(r,n);return}if(!i.isSymbolicLink()||!e.followSymbolicLink){ts(r,i);return}e.fs.stat(t,(s,o)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){Bc(r,s);return}ts(r,i);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),ts(r,o)})})}Gn.read=Wg;function Bc(t,e){t(e)}function ts(t,e){t(null,e)}});var Uc=g(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.read=void 0;function Ug(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw n}}Vn.read=Ug});var Gc=g(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.createFileSystemAdapter=It.FILE_SYSTEM_ADAPTER=void 0;var zn=require("fs");It.FILE_SYSTEM_ADAPTER={lstat:zn.lstat,stat:zn.stat,lstatSync:zn.lstatSync,statSync:zn.statSync};function Gg(t){return t===void 0?It.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},It.FILE_SYSTEM_ADAPTER),t)}It.createFileSystemAdapter=Gg});var zc=g(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});var Vg=Gc(),Vc=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Vg.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e!=null?e:r}};rs.default=Vc});var nr=g($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.statSync=$t.stat=$t.Settings=void 0;var Qc=Wc(),zg=Uc(),ns=zc();$t.Settings=ns.default;function Qg(t,e,r){if(typeof e=="function"){Qc.read(t,is(),e);return}Qc.read(t,is(e),r)}$t.stat=Qg;function Yg(t,e){let r=is(e);return zg.read(t,r)}$t.statSync=Yg;function is(t={}){return t instanceof ns.default?t:new ns.default(t)}});var Jc=g((gS,Yc)=>{var Xc;Yc.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):t=>(Xc||(Xc=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Zc=g((vS,Kc)=>{Kc.exports=Xg;var Jg=Jc();function Xg(t,e){let r,n,i,s=!0;Array.isArray(t)?(r=[],n=t.length):(i=Object.keys(t),r={},n=i.length);function o(c){function d(){e&&e(c,r),e=null}s?Jg(d):d()}function a(c,d,f){r[c]=f,(--n==0||d)&&o(d)}n?i?i.forEach(function(c){t[c](function(d,f){a(c,d,f)})}):t.forEach(function(c,d){c(function(f,h){a(d,f,h)})}):o(null),s=!1}});var ss=g(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Yn=process.versions.node.split(".");if(Yn[0]===void 0||Yn[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var el=Number.parseInt(Yn[0],10),Kg=Number.parseInt(Yn[1],10),tl=10,Zg=10,ev=el>tl,tv=el===tl&&Kg>=Zg;Qn.IS_SUPPORT_READDIR_WITH_FILE_TYPES=ev||tv});var nl=g(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.createDirentFromStats=void 0;var rl=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function rv(t,e){return new rl(t,e)}Xn.createDirentFromStats=rv});var os=g(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.fs=void 0;var nv=nl();Jn.fs=nv});var as=g(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.joinPathSegments=void 0;function iv(t,e,r){return t.endsWith(r)?t+e:t+r+e}Kn.joinPathSegments=iv});var cl=g(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.readdir=jt.readdirWithFileTypes=jt.read=void 0;var sv=nr(),il=Zc(),ov=ss(),sl=os(),ol=as();function av(t,e,r){if(!e.stats&&ov.IS_SUPPORT_READDIR_WITH_FILE_TYPES){al(t,e,r);return}ul(t,e,r)}jt.read=av;function al(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,i)=>{if(n!==null){Zn(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:ol.joinPathSegments(t,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){us(r,s);return}let o=s.map(a=>uv(a,e));il(o,(a,c)=>{if(a!==null){Zn(r,a);return}us(r,c)})})}jt.readdirWithFileTypes=al;function uv(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(n,i)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,t);return}t.dirent=sl.fs.createDirentFromStats(t.name,i),r(null,t)})}}function ul(t,e,r){e.fs.readdir(t,(n,i)=>{if(n!==null){Zn(r,n);return}let s=i.map(o=>{let a=ol.joinPathSegments(t,o,e.pathSegmentSeparator);return c=>{sv.stat(a,e.fsStatSettings,(d,f)=>{if(d!==null){c(d);return}let h={name:o,path:a,dirent:sl.fs.createDirentFromStats(o,f)};e.stats&&(h.stats=f),c(null,h)})}});il(s,(o,a)=>{if(o!==null){Zn(r,o);return}us(r,a)})})}jt.readdir=ul;function Zn(t,e){t(e)}function us(t,e){t(null,e)}});var hl=g(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.readdir=Ht.readdirWithFileTypes=Ht.read=void 0;var cv=nr(),lv=ss(),ll=os(),dl=as();function dv(t,e){return!e.stats&&lv.IS_SUPPORT_READDIR_WITH_FILE_TYPES?fl(t,e):pl(t,e)}Ht.read=dv;function fl(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:dl.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let s=e.fs.statSync(i.path);i.dirent=ll.fs.createDirentFromStats(i.name,s)}catch(s){if(e.throwErrorOnBrokenSymbolicLink)throw s}return i})}Ht.readdirWithFileTypes=fl;function pl(t,e){return e.fs.readdirSync(t).map(n=>{let i=dl.joinPathSegments(t,n,e.pathSegmentSeparator),s=cv.statSync(i,e.fsStatSettings),o={name:n,path:i,dirent:ll.fs.createDirentFromStats(n,s)};return e.stats&&(o.stats=s),o})}Ht.readdir=pl});var ml=g(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.createFileSystemAdapter=Bt.FILE_SYSTEM_ADAPTER=void 0;var Pr=require("fs");Bt.FILE_SYSTEM_ADAPTER={lstat:Pr.lstat,stat:Pr.stat,lstatSync:Pr.lstatSync,statSync:Pr.statSync,readdir:Pr.readdir,readdirSync:Pr.readdirSync};function fv(t){return t===void 0?Bt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Bt.FILE_SYSTEM_ADAPTER),t)}Bt.createFileSystemAdapter=fv});var vl=g(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});var pv=require("path"),hv=nr(),mv=ml(),gl=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=mv.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,pv.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new hv.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e!=null?e:r}};cs.default=gl});var ei=g(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.Settings=Wt.scandirSync=Wt.scandir=void 0;var yl=cl(),gv=hl(),ls=vl();Wt.Settings=ls.default;function vv(t,e,r){if(typeof e=="function"){yl.read(t,ds(),e);return}yl.read(t,ds(e),r)}Wt.scandir=vv;function yv(t,e){let r=ds(e);return gv.read(t,r)}Wt.scandirSync=yv;function ds(t={}){return t instanceof ls.default?t:new ls.default(t)}});var bl=g((PS,_l)=>{"use strict";function _v(t){var e=new t,r=e;function n(){var s=e;return s.next?e=s.next:(e=new t,r=e),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}_l.exports=_v});var wl=g((TS,fs)=>{"use strict";var bv=bl();function Rl(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=bv(Rv),i=null,s=null,o=0,a=null,c={push:E,drain:gt,saturated:gt,pause:f,paused:!1,concurrency:r,running:d,resume:w,idle:S,length:h,getQueue:p,unshift:k,empty:gt,kill:F,killAndDrain:z,error:Q};return c;function d(){return o}function f(){c.paused=!0}function h(){for(var N=i,re=0;N;)N=N.next,re++;return re}function p(){for(var N=i,re=[];N;)re.push(N.value),N=N.next;return re}function w(){if(!!c.paused){c.paused=!1;for(var N=0;N<c.concurrency;N++)o++,A()}}function S(){return o===0&&c.length()===0}function E(N,re){var j=n.get();j.context=t,j.release=A,j.value=N,j.callback=re||gt,j.errorHandler=a,o===c.concurrency||c.paused?s?(s.next=j,s=j):(i=j,s=j,c.saturated()):(o++,e.call(t,j.value,j.worked))}function k(N,re){var j=n.get();j.context=t,j.release=A,j.value=N,j.callback=re||gt,o===c.concurrency||c.paused?i?(j.next=i,i=j):(i=j,s=j,c.saturated()):(o++,e.call(t,j.value,j.worked))}function A(N){N&&n.release(N);var re=i;re?c.paused?o--:(s===i&&(s=null),i=re.next,re.next=null,e.call(t,re.value,re.worked),s===null&&c.empty()):--o==0&&c.drain()}function F(){i=null,s=null,c.drain=gt}function z(){i=null,s=null,c.drain(),c.drain=gt}function Q(N){a=N}}function gt(){}function Rv(){this.value=null,this.callback=gt,this.next=null,this.release=gt,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var i=t.callback,s=t.errorHandler,o=t.value;t.value=null,t.callback=gt,t.errorHandler&&s(r,o),i.call(t.context,r,n),t.release(t)}}function wv(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(d,f){e.call(this,d).then(function(h){f(null,h)},f)}var i=Rl(t,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=c,i;function a(d){return new Promise(function(f,h){s(d,function(p,w){if(p){h(p);return}f(w)})})}function c(d){return new Promise(function(f,h){o(d,function(p,w){if(p){h(p);return}f(w)})})}}fs.exports=Rl;fs.exports.promise=wv});var ti=g(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.joinPathSegments=vt.replacePathSegmentSeparator=vt.isAppliedFilter=vt.isFatalError=void 0;function Sv(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}vt.isFatalError=Sv;function Ev(t,e){return t===null||t(e)}vt.isAppliedFilter=Ev;function Cv(t,e){return t.split(/[/\\]/).join(e)}vt.replacePathSegmentSeparator=Cv;function xv(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}vt.joinPathSegments=xv});var hs=g(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var Pv=ti(),Sl=class{constructor(e,r){this._root=e,this._settings=r,this._root=Pv.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};ps.default=Sl});var gs=g(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var Tv=require("events"),kv=ei(),Dv=wl(),ri=ti(),Av=hs(),El=class extends Av.default{constructor(e,r){super(e,r);this._settings=r,this._scandir=kv.scandir,this._emitter=new Tv.EventEmitter,this._queue=Dv(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let n={directory:e,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!ri.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let n=e.path;r!==void 0&&(e.path=ri.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),ri.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&ri.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};ms.default=El});var xl=g(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var Ov=gs(),Cl=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Ov.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{qv(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Lv(e,this._storage)}),this._reader.read()}};vs.default=Cl;function qv(t,e){t(e)}function Lv(t,e){t(null,e)}});var Tl=g(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var Nv=require("stream"),Mv=gs(),Pl=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Mv.default(this._root,this._settings),this._stream=new Nv.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};ys.default=Pl});var Dl=g(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var Fv=ei(),ni=ti(),Iv=hs(),kl=class extends Iv.default{constructor(){super(...arguments);this._scandir=Fv.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(e){if(!!ni.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let n=e.path;r!==void 0&&(e.path=ni.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),ni.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&ni.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};_s.default=kl});var Ol=g(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});var $v=Dl(),Al=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new $v.default(this._root,this._settings)}read(){return this._reader.read()}};bs.default=Al});var Ll=g(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var jv=require("path"),Hv=ei(),ql=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,jv.sep),this.fsScandirSettings=new Hv.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e!=null?e:r}};Rs.default=ql});var Ss=g(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.Settings=yt.walkStream=yt.walkSync=yt.walk=void 0;var Nl=xl(),Bv=Tl(),Wv=Ol(),ws=Ll();yt.Settings=ws.default;function Uv(t,e,r){if(typeof e=="function"){new Nl.default(t,ii()).read(e);return}new Nl.default(t,ii(e)).read(r)}yt.walk=Uv;function Gv(t,e){let r=ii(e);return new Wv.default(t,r).read()}yt.walkSync=Gv;function Vv(t,e){let r=ii(e);return new Bv.default(t,r).read()}yt.walkStream=Vv;function ii(t={}){return t instanceof ws.default?t:new ws.default(t)}});var Cs=g(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var zv=require("path"),Qv=nr(),Ml=Pt(),Fl=class{constructor(e){this._settings=e,this._fsStatSettings=new Qv.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return zv.resolve(this._settings.cwd,e)}_makeEntry(e,r){let n={name:r,path:r,dirent:Ml.fs.createDirentFromStats(r,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!Ml.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};Es.default=Fl});var Ps=g(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var Yv=require("stream"),Xv=nr(),Jv=Ss(),Kv=Cs(),Il=class extends Kv.default{constructor(){super(...arguments);this._walkStream=Jv.walkStream,this._stat=Xv.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let n=e.map(this._getFullEntryPath,this),i=new Yv.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],e[s],r).then(c=>{c!==null&&r.entryFilter(c)&&i.push(c),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(e,r,n){return this._getStat(e).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(e){return new Promise((r,n)=>{this._stat(e,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};xs.default=Il});var jl=g(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var Tr=Pt(),$l=class{constructor(e,r,n){this._patterns=e,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let e=Tr.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of e){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(e){return Tr.pattern.getPatternParts(e,this._micromatchOptions).map(n=>Tr.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Tr.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return Tr.array.splitWhen(e,r=>r.dynamic&&Tr.pattern.hasGlobStar(r.pattern))}};Ts.default=$l});var Bl=g(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var Zv=jl(),Hl=class extends Zv.default{match(e){let r=e.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((c,d)=>{let f=s.segments[d];return!!(f.dynamic&&f.patternRe.test(c)||!f.dynamic&&f.pattern===c)}))return!0}return!1}};ks.default=Hl});var Ul=g(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var si=Pt(),ey=Bl(),Wl=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(e,o,i,s)}_getMatcher(e){return new ey.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter(si.pattern.isAffectDepthOfReadingPattern);return si.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,n,i){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=si.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(e,r){return this._settings.deep===Infinity?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let n=r.split("/").length;if(e==="")return n;let i=e.split("/").length;return n-i}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!si.pattern.matchAny(e,r)}};Ds.default=Wl});var Vl=g(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});var kr=Pt(),Gl=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let n=kr.pattern.convertPatternsToRe(e,this._micromatchOptions),i=kr.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(e,r,n){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,n))return!1;let i=this._settings.baseNameMatch?e.name:e.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(e.path,n);return this._settings.unique&&s&&this._createIndexRecord(e),s}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let n=kr.path.makeAbsolute(this._settings.cwd,e);return kr.pattern.matchAny(n,r)}_isMatchToPatterns(e,r){let n=kr.path.removeLeadingDotSegment(e);return kr.pattern.matchAny(n,r)}};As.default=Gl});var Ql=g(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var ty=Pt(),zl=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return ty.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};Os.default=zl});var Jl=g(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var Yl=Pt(),Xl=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=Yl.path.makeAbsolute(this._settings.cwd,r),r=Yl.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};qs.default=Xl});var oi=g(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var ry=require("path"),ny=Ul(),iy=Vl(),sy=Ql(),oy=Jl(),Kl=class{constructor(e){this._settings=e,this.errorFilter=new sy.default(this._settings),this.entryFilter=new iy.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new ny.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new oy.default(this._settings)}_getRootDirectory(e){return ry.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Ls.default=Kl});var ed=g(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var ay=Ps(),uy=oi(),Zl=class extends uy.default{constructor(){super(...arguments);this._reader=new ay.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),i=[];return new Promise((s,o)=>{let a=this.api(r,e,n);a.once("error",o),a.on("data",c=>i.push(n.transform(c))),a.once("end",()=>s(i))})}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Ns.default=Zl});var rd=g(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});var cy=require("stream"),ly=Ps(),dy=oi(),td=class extends dy.default{constructor(){super(...arguments);this._reader=new ly.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),i=this.api(r,e,n),s=new cy.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Ms.default=td});var id=g(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var fy=nr(),py=Ss(),hy=Cs(),nd=class extends hy.default{constructor(){super(...arguments);this._walkSync=py.walkSync,this._statSync=fy.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let n=[];for(let i of e){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(e,r,n){try{let i=this._getStat(e);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};Fs.default=nd});var od=g(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var my=id(),gy=oi(),sd=class extends gy.default{constructor(){super(...arguments);this._reader=new my.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(r,e,n).map(n.transform)}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Is.default=sd});var ud=g(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Ar=require("fs"),vy=require("os"),yy=Math.max(vy.cpus().length,1);Dr.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Ar.lstat,lstatSync:Ar.lstatSync,stat:Ar.stat,statSync:Ar.statSync,readdir:Ar.readdir,readdirSync:Ar.readdirSync};var ad=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,yy),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,Infinity),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Dr.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Dr.default=ad});var dd=g((KS,cd)=>{"use strict";var ld=Hc(),_y=ed(),by=rd(),Ry=od(),$s=ud(),ir=Pt();async function Hs(t,e){Or(t);let r=js(t,_y.default,e),n=await Promise.all(r);return ir.array.flatten(n)}(function(t){function e(o,a){Or(o);let c=js(o,Ry.default,a);return ir.array.flatten(c)}t.sync=e;function r(o,a){Or(o);let c=js(o,by.default,a);return ir.stream.merge(c)}t.stream=r;function n(o,a){Or(o);let c=[].concat(o),d=new $s.default(a);return ld.generate(c,d)}t.generateTasks=n;function i(o,a){Or(o);let c=new $s.default(a);return ir.pattern.isDynamicPattern(o,c)}t.isDynamicPattern=i;function s(o){return Or(o),ir.path.escape(o)}t.escapePath=s})(Hs||(Hs={}));function js(t,e,r){let n=[].concat(t),i=new $s.default(r),s=ld.generate(n,i),o=new e(i);return s.map(o.read,o)}function Or(t){if(![].concat(t).every(n=>ir.string.isString(n)&&!ir.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}cd.exports=Hs});var kt=g(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});var ro;function no(){if(ro===void 0)throw new Error("No runtime abstraction layer installed");return ro}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");ro=r}t.install=e})(no||(no={}));to.default=no});var io=g(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.Disposable=void 0;var Oy;(function(t){function e(r){return{dispose:r}}t.create=e})(Oy=un.Disposable||(un.Disposable={}))});var Cd=g(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.AbstractMessageBuffer=void 0;var qy=13,Ly=10,Ny=`\r
`,Ed=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,r=0,n=0,i=0;e:for(;r<this._chunks.length;){let c=this._chunks[r];n=0;t:for(;n<c.length;){switch(c[n]){case qy:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case Ly:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,r++}if(e!==4)return;let s=this._read(i+n),o=new Map,a=this.toString(s,"ascii").split(Ny);if(a.length<2)return o;for(let c=0;c<a.length-2;c++){let d=a[c],f=d.indexOf(":");if(f===-1)throw new Error("Message header must separate key and value using :");let h=d.substr(0,f),p=d.substr(f+1).trim();o.set(h,p)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);r.set(o,n),n+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return r}};ui.AbstractMessageBuffer=Ed});var Dd=g(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});var My=kt(),xd=require("util"),ur=io(),Fy=Cd(),cn=class extends Fy.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return cn.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new xd.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};cn.emptyBuffer=Buffer.allocUnsafe(0);var Pd=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ur.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ur.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ur.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ur.Disposable.create(()=>this.stream.off("data",e))}},Td=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ur.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ur.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ur.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let s=o=>{o==null?n():i(o)};typeof e=="string"?this.stream.write(e,r,s):this.stream.write(e,s)})}end(){this.stream.end()}},kd=Object.freeze({messageBuffer:Object.freeze({create:t=>new cn(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new xd.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new Pd(t),asWritableStream:t=>new Td(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){return setTimeout(t,e,...r)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function oo(){return kd}(function(t){function e(){My.default.install(kd)}t.install=e})(oo||(oo={}));so.default=oo});var Ir=g(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.stringArray=Ne.array=Ne.func=Ne.error=Ne.number=Ne.string=Ne.boolean=void 0;function Iy(t){return t===!0||t===!1}Ne.boolean=Iy;function Ad(t){return typeof t=="string"||t instanceof String}Ne.string=Ad;function $y(t){return typeof t=="number"||t instanceof Number}Ne.number=$y;function jy(t){return t instanceof Error}Ne.error=jy;function Hy(t){return typeof t=="function"}Ne.func=Hy;function Od(t){return Array.isArray(t)}Ne.array=Od;function By(t){return Od(t)&&t.every(e=>Ad(e))}Ne.stringArray=By});var ao=g(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.isResponseMessage=T.isNotificationMessage=T.isRequestMessage=T.NotificationType9=T.NotificationType8=T.NotificationType7=T.NotificationType6=T.NotificationType5=T.NotificationType4=T.NotificationType3=T.NotificationType2=T.NotificationType1=T.NotificationType0=T.NotificationType=T.RequestType9=T.RequestType8=T.RequestType7=T.RequestType6=T.RequestType5=T.RequestType4=T.RequestType3=T.RequestType2=T.RequestType1=T.RequestType=T.RequestType0=T.AbstractMessageSignature=T.ParameterStructures=T.ResponseError=T.ErrorCodes=void 0;var cr=Ir(),qd;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(qd=T.ErrorCodes||(T.ErrorCodes={}));var ci=class extends Error{constructor(e,r,n){super(r);this.code=cr.number(e)?e:qd.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,ci.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};T.ResponseError=ci;var Ae=class{constructor(e){this.kind=e}static is(e){return e===Ae.auto||e===Ae.byName||e===Ae.byPosition}toString(){return this.kind}};T.ParameterStructures=Ae;Ae.auto=new Ae("auto");Ae.byPosition=new Ae("byPosition");Ae.byName=new Ae("byName");var fe=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Ae.auto}};T.AbstractMessageSignature=fe;var Ld=class extends fe{constructor(e){super(e,0)}};T.RequestType0=Ld;var Nd=class extends fe{constructor(e,r=Ae.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};T.RequestType=Nd;var Md=class extends fe{constructor(e,r=Ae.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};T.RequestType1=Md;var Fd=class extends fe{constructor(e){super(e,2)}};T.RequestType2=Fd;var Id=class extends fe{constructor(e){super(e,3)}};T.RequestType3=Id;var $d=class extends fe{constructor(e){super(e,4)}};T.RequestType4=$d;var jd=class extends fe{constructor(e){super(e,5)}};T.RequestType5=jd;var Hd=class extends fe{constructor(e){super(e,6)}};T.RequestType6=Hd;var Bd=class extends fe{constructor(e){super(e,7)}};T.RequestType7=Bd;var Wd=class extends fe{constructor(e){super(e,8)}};T.RequestType8=Wd;var Ud=class extends fe{constructor(e){super(e,9)}};T.RequestType9=Ud;var Gd=class extends fe{constructor(e,r=Ae.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};T.NotificationType=Gd;var Vd=class extends fe{constructor(e){super(e,0)}};T.NotificationType0=Vd;var zd=class extends fe{constructor(e,r=Ae.auto){super(e,1);this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};T.NotificationType1=zd;var Qd=class extends fe{constructor(e){super(e,2)}};T.NotificationType2=Qd;var Yd=class extends fe{constructor(e){super(e,3)}};T.NotificationType3=Yd;var Xd=class extends fe{constructor(e){super(e,4)}};T.NotificationType4=Xd;var Jd=class extends fe{constructor(e){super(e,5)}};T.NotificationType5=Jd;var Kd=class extends fe{constructor(e){super(e,6)}};T.NotificationType6=Kd;var Zd=class extends fe{constructor(e){super(e,7)}};T.NotificationType7=Zd;var ef=class extends fe{constructor(e){super(e,8)}};T.NotificationType8=ef;var tf=class extends fe{constructor(e){super(e,9)}};T.NotificationType9=tf;function Wy(t){let e=t;return e&&cr.string(e.method)&&(cr.string(e.id)||cr.number(e.id))}T.isRequestMessage=Wy;function Uy(t){let e=t;return e&&cr.string(e.method)&&t.id===void 0}T.isNotificationMessage=Uy;function Gy(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(cr.string(e.id)||cr.number(e.id)||e.id===null)}T.isResponseMessage=Gy});var $r=g(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.Emitter=lr.Event=void 0;var Vy=kt(),zy;(function(t){let e={dispose(){}};t.None=function(){return e}})(zy=lr.Event||(lr.Event={}));var rf=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],e))}catch(a){Vy.default().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ln=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new rf),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,r),i.dispose=ln._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};lr.Emitter=ln;ln._noop=function(){}});var fo=g(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.CancellationTokenSource=dr.CancellationToken=void 0;var nf=kt(),Qy=Ir(),uo=$r(),co;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:uo.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:uo.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||Qy.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(co=dr.CancellationToken||(dr.CancellationToken={}));var Yy=Object.freeze(function(t,e){let r=nf.default().timer.setTimeout(t.bind(e),0);return{dispose(){nf.default().timer.clearTimeout(r)}}}),lo=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Yy:(this._emitter||(this._emitter=new uo.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},sf=class{get token(){return this._token||(this._token=new lo),this._token}cancel(){this._token?this._token.cancel():this._token=co.Cancelled}dispose(){this._token?this._token instanceof lo&&this._token.dispose():this._token=co.None}};dr.CancellationTokenSource=sf});var af=g(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.ReadableStreamMessageReader=Dt.AbstractMessageReader=Dt.MessageReader=void 0;var li=kt(),jr=Ir(),po=$r(),Xy;(function(t){function e(r){let n=r;return n&&jr.func(n.listen)&&jr.func(n.dispose)&&jr.func(n.onError)&&jr.func(n.onClose)&&jr.func(n.onPartialMessage)}t.is=e})(Xy=Dt.MessageReader||(Dt.MessageReader={}));var ho=class{constructor(){this.errorEmitter=new po.Emitter,this.closeEmitter=new po.Emitter,this.partialMessageEmitter=new po.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${jr.string(e.message)?e.message:"unknown"}`)}};Dt.AbstractMessageReader=ho;var mo;(function(t){function e(r){var n;let i,s,o,a=new Map,c,d=new Map;if(r===void 0||typeof r=="string")i=r!=null?r:"utf-8";else{if(i=(n=r.charset)!==null&&n!==void 0?n:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,a.set(o.name,o)),r.contentDecoders!==void 0)for(let f of r.contentDecoders)a.set(f.name,f);if(r.contentTypeDecoder!==void 0&&(c=r.contentTypeDecoder,d.set(c.name,c)),r.contentTypeDecoders!==void 0)for(let f of r.contentTypeDecoders)d.set(f.name,f)}return c===void 0&&(c=li.default().applicationJson.decoder,d.set(c.name,c)),{charset:i,contentDecoder:o,contentDecoders:a,contentTypeDecoder:c,contentTypeDecoders:d}}t.fromOptions=e})(mo||(mo={}));var of=class extends ho{constructor(e,r){super();this.readable=e,this.options=mo.fromOptions(r),this.buffer=li.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(r):n=Promise.resolve(r),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(li.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=li.default().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Dt.ReadableStreamMessageReader=of});var cf=g(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.Semaphore=void 0;var Jy=kt(),uf=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Jy.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};di.Semaphore=uf});var hf=g(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.WriteableStreamMessageWriter=At.AbstractMessageWriter=At.MessageWriter=void 0;var lf=kt(),dn=Ir(),Ky=cf(),df=$r(),Zy="Content-Length: ",ff=`\r
`,e_;(function(t){function e(r){let n=r;return n&&dn.func(n.dispose)&&dn.func(n.onClose)&&dn.func(n.onError)&&dn.func(n.write)}t.is=e})(e_=At.MessageWriter||(At.MessageWriter={}));var go=class{constructor(){this.errorEmitter=new df.Emitter,this.closeEmitter=new df.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${dn.string(e.message)?e.message:"unknown"}`)}};At.AbstractMessageWriter=go;var vo;(function(t){function e(r){var n,i;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:lf.default().applicationJson.encoder}:{charset:(n=r.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!==null&&i!==void 0?i:lf.default().applicationJson.encoder}}t.fromOptions=e})(vo||(vo={}));var pf=class extends go{constructor(e,r){super();this.writable=e,this.options=vo.fromOptions(r),this.errorCount=0,this.writeSemaphore=new Ky.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Zy,n.byteLength.toString(),ff),i.push(ff),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};At.WriteableStreamMessageWriter=pf});var gf=g(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.LRUCache=Ot.LinkedMap=Ot.Touch=void 0;var Fe;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Fe=Ot.Touch||(Ot.Touch={}));var yo=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,r=Fe.None){let n=this._map.get(e);if(!!n)return r!==Fe.None&&this.touch(n,r),n.value}set(e,r,n=Fe.None){let i=this._map.get(e);if(i)i.value=r,n!==Fe.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case Fe.None:this.addItemLast(i);break;case Fe.First:this.addItemFirst(i);break;case Fe.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(!!r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Fe.First&&r!==Fe.Last)){if(r===Fe.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===Fe.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Ot.LinkedMap=yo;var mf=class extends yo{constructor(e,r=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=Fe.AsNew){return super.get(e,r)}peek(e){return super.get(e,Fe.None)}set(e,r){return super.set(e,r,Fe.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ot.LRUCache=mf});var wf=g(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.createMessageConnection=M.ConnectionOptions=M.CancellationStrategy=M.CancellationSenderStrategy=M.CancellationReceiverStrategy=M.ConnectionStrategy=M.ConnectionError=M.ConnectionErrors=M.LogTraceNotification=M.SetTraceNotification=M.TraceFormat=M.Trace=M.NullLogger=M.ProgressType=void 0;var vf=kt(),xe=Ir(),L=ao(),yf=gf(),fn=$r(),_o=fo(),pn;(function(t){t.type=new L.NotificationType("$/cancelRequest")})(pn||(pn={}));var fi;(function(t){t.type=new L.NotificationType("$/progress")})(fi||(fi={}));var _f=class{constructor(){}};M.ProgressType=_f;var bo;(function(t){function e(r){return xe.func(r)}t.is=e})(bo||(bo={}));M.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var be;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(be=M.Trace||(M.Trace={}));(function(t){function e(n){if(!xe.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(be=M.Trace||(M.Trace={}));var rt;(function(t){t.Text="text",t.JSON="json"})(rt=M.TraceFormat||(M.TraceFormat={}));(function(t){function e(r){return r=r.toLowerCase(),r==="json"?t.JSON:t.Text}t.fromString=e})(rt=M.TraceFormat||(M.TraceFormat={}));var bf;(function(t){t.type=new L.NotificationType("$/setTrace")})(bf=M.SetTraceNotification||(M.SetTraceNotification={}));var Ro;(function(t){t.type=new L.NotificationType("$/logTrace")})(Ro=M.LogTraceNotification||(M.LogTraceNotification={}));var pi;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(pi=M.ConnectionErrors||(M.ConnectionErrors={}));var fr=class extends Error{constructor(e,r){super(r);this.code=e,Object.setPrototypeOf(this,fr.prototype)}};M.ConnectionError=fr;var Rf;(function(t){function e(r){let n=r;return n&&xe.func(n.cancelUndispatched)}t.is=e})(Rf=M.ConnectionStrategy||(M.ConnectionStrategy={}));var wo;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new _o.CancellationTokenSource}});function e(r){let n=r;return n&&xe.func(n.createCancellationTokenSource)}t.is=e})(wo=M.CancellationReceiverStrategy||(M.CancellationReceiverStrategy={}));var So;(function(t){t.Message=Object.freeze({sendCancellation(r,n){r.sendNotification(pn.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&xe.func(n.sendCancellation)&&xe.func(n.cleanup)}t.is=e})(So=M.CancellationSenderStrategy||(M.CancellationSenderStrategy={}));var Eo;(function(t){t.Message=Object.freeze({receiver:wo.Message,sender:So.Message});function e(r){let n=r;return n&&wo.is(n.receiver)&&So.is(n.sender)}t.is=e})(Eo=M.CancellationStrategy||(M.CancellationStrategy={}));var t_;(function(t){function e(r){let n=r;return n&&(Eo.is(n.cancellationStrategy)||Rf.is(n.connectionStrategy))}t.is=e})(t_=M.ConnectionOptions||(M.ConnectionOptions={}));var nt;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(nt||(nt={}));function r_(t,e,r,n){let i=r!==void 0?r:M.NullLogger,s=0,o=0,a=0,c="2.0",d,f=Object.create(null),h,p=Object.create(null),w=new Map,S,E=new yf.LinkedMap,k=Object.create(null),A=Object.create(null),F=be.Off,z=rt.Text,Q,N=nt.New,re=new fn.Emitter,j=new fn.Emitter,O=new fn.Emitter,Y=new fn.Emitter,_e=new fn.Emitter,_=n&&n.cancellationStrategy?n.cancellationStrategy:Eo.Message;function ne(l){if(l===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+l.toString()}function ie(l){return l===null?"res-unknown-"+(++a).toString():"res-"+l.toString()}function lt(){return"not-"+(++o).toString()}function v(l,b){L.isRequestMessage(b)?l.set(ne(b.id),b):L.isResponseMessage(b)?l.set(ie(b.id),b):l.set(lt(),b)}function y(l){}function Ee(){return N===nt.Listening}function U(){return N===nt.Closed}function ke(){return N===nt.Disposed}function Ue(){(N===nt.New||N===nt.Listening)&&(N=nt.Closed,j.fire(void 0))}function Me(l){re.fire([l,void 0,void 0])}function gr(l){re.fire(l)}t.onClose(Ue),t.onError(Me),e.onClose(Ue),e.onError(gr);function An(){S||E.size===0||(S=vf.default().timer.setImmediate(()=>{S=void 0,vr()}))}function vr(){if(E.size===0)return;let l=E.shift();try{L.isRequestMessage(l)?H(l):L.isNotificationMessage(l)?Ti(l):L.isResponseMessage(l)?yr(l):P(l)}finally{An()}}let wt=l=>{try{if(L.isNotificationMessage(l)&&l.method===pn.type.method){let b=ne(l.params.id),x=E.get(b);if(L.isRequestMessage(x)){let D=n==null?void 0:n.connectionStrategy,X=D&&D.cancelUndispatched?D.cancelUndispatched(x,y):y(x);if(X&&(X.error!==void 0||X.result!==void 0)){E.delete(b),X.id=x.id,I(X,l.method,Date.now()),e.write(X);return}}}v(E,l)}finally{An()}};function H(l){if(ke())return;function b(K,ge,Z){let Se={jsonrpc:c,id:l.id};K instanceof L.ResponseError?Se.error=K.toJson():Se.result=K===void 0?null:K,I(Se,ge,Z),e.write(Se)}function x(K,ge,Z){let Se={jsonrpc:c,id:l.id,error:K.toJson()};I(Se,ge,Z),e.write(Se)}function D(K,ge,Z){K===void 0&&(K=null);let Se={jsonrpc:c,id:l.id,result:K};I(Se,ge,Z),e.write(Se)}pe(l);let X=f[l.method],me,we;X&&(me=X.type,we=X.handler);let Ce=Date.now();if(we||d){let K=String(l.id),ge=_.receiver.createCancellationTokenSource(K);A[K]=ge;try{let Z;if(we)if(l.params===void 0){if(me!==void 0&&me.numberOfParams!==0){x(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${l.method} defines ${me.numberOfParams} params but recevied none.`),l.method,Ce);return}Z=we(ge.token)}else if(Array.isArray(l.params)){if(me!==void 0&&me.parameterStructures===L.ParameterStructures.byName){x(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by name but received parameters by position`),l.method,Ce);return}Z=we(...l.params,ge.token)}else{if(me!==void 0&&me.parameterStructures===L.ParameterStructures.byPosition){x(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by position but received parameters by name`),l.method,Ce);return}Z=we(l.params,ge.token)}else d&&(Z=d(l.method,l.params,ge.token));let Se=Z;Z?Se.then?Se.then(je=>{delete A[K],b(je,l.method,Ce)},je=>{delete A[K],je instanceof L.ResponseError?x(je,l.method,Ce):je&&xe.string(je.message)?x(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${je.message}`),l.method,Ce):x(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,Ce)}):(delete A[K],b(Z,l.method,Ce)):(delete A[K],D(Z,l.method,Ce))}catch(Z){delete A[K],Z instanceof L.ResponseError?b(Z,l.method,Ce):Z&&xe.string(Z.message)?x(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${Z.message}`),l.method,Ce):x(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,Ce)}}else x(new L.ResponseError(L.ErrorCodes.MethodNotFound,`Unhandled method ${l.method}`),l.method,Ce)}function yr(l){if(!ke())if(l.id===null)l.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(l.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let b=String(l.id),x=k[b];if(ve(l,x),x){delete k[b];try{if(l.error){let D=l.error;x.reject(new L.ResponseError(D.code,D.message,D.data))}else if(l.result!==void 0)x.resolve(l.result);else throw new Error("Should never happen.")}catch(D){D.message?i.error(`Response handler '${x.method}' failed with message: ${D.message}`):i.error(`Response handler '${x.method}' failed unexpectedly.`)}}}}function Ti(l){if(ke())return;let b,x;if(l.method===pn.type.method)x=D=>{let X=D.id,me=A[String(X)];me&&me.cancel()};else{let D=p[l.method];D&&(x=D.handler,b=D.type)}if(x||h)try{De(l),x?l.params===void 0?(b!==void 0&&b.numberOfParams!==0&&b.parameterStructures!==L.ParameterStructures.byName&&i.error(`Notification ${l.method} defines ${b.numberOfParams} params but recevied none.`),x()):Array.isArray(l.params)?(b!==void 0&&(b.parameterStructures===L.ParameterStructures.byName&&i.error(`Notification ${l.method} defines parameters by name but received parameters by position`),b.numberOfParams!==l.params.length&&i.error(`Notification ${l.method} defines ${b.numberOfParams} params but received ${l.params.length} argumennts`)),x(...l.params)):(b!==void 0&&b.parameterStructures===L.ParameterStructures.byPosition&&i.error(`Notification ${l.method} defines parameters by position but received parameters by name`),x(l.params)):h&&h(l.method,l.params)}catch(D){D.message?i.error(`Notification handler '${l.method}' failed with message: ${D.message}`):i.error(`Notification handler '${l.method}' failed unexpectedly.`)}else O.fire(l)}function P(l){if(!l){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(l,null,4)}`);let b=l;if(xe.string(b.id)||xe.number(b.id)){let x=String(b.id),D=k[x];D&&D.reject(new Error("The received response has neither a result nor an error property."))}}function se(l){if(!(F===be.Off||!Q))if(z===rt.Text){let b;F===be.Verbose&&l.params&&(b=`Params: ${JSON.stringify(l.params,null,4)}

`),Q.log(`Sending request '${l.method} - (${l.id})'.`,b)}else dt("send-request",l)}function C(l){if(!(F===be.Off||!Q))if(z===rt.Text){let b;F===be.Verbose&&(l.params?b=`Params: ${JSON.stringify(l.params,null,4)}

`:b=`No parameters provided.

`),Q.log(`Sending notification '${l.method}'.`,b)}else dt("send-notification",l)}function I(l,b,x){if(!(F===be.Off||!Q))if(z===rt.Text){let D;F===be.Verbose&&(l.error&&l.error.data?D=`Error data: ${JSON.stringify(l.error.data,null,4)}

`:l.result?D=`Result: ${JSON.stringify(l.result,null,4)}

`:l.error===void 0&&(D=`No result returned.

`)),Q.log(`Sending response '${b} - (${l.id})'. Processing request took ${Date.now()-x}ms`,D)}else dt("send-response",l)}function pe(l){if(!(F===be.Off||!Q))if(z===rt.Text){let b;F===be.Verbose&&l.params&&(b=`Params: ${JSON.stringify(l.params,null,4)}

`),Q.log(`Received request '${l.method} - (${l.id})'.`,b)}else dt("receive-request",l)}function De(l){if(!(F===be.Off||!Q||l.method===Ro.type.method))if(z===rt.Text){let b;F===be.Verbose&&(l.params?b=`Params: ${JSON.stringify(l.params,null,4)}

`:b=`No parameters provided.

`),Q.log(`Received notification '${l.method}'.`,b)}else dt("receive-notification",l)}function ve(l,b){if(!(F===be.Off||!Q))if(z===rt.Text){let x;if(F===be.Verbose&&(l.error&&l.error.data?x=`Error data: ${JSON.stringify(l.error.data,null,4)}

`:l.result?x=`Result: ${JSON.stringify(l.result,null,4)}

`:l.error===void 0&&(x=`No result returned.

`)),b){let D=l.error?` Request failed: ${l.error.message} (${l.error.code}).`:"";Q.log(`Received response '${b.method} - (${l.id})' in ${Date.now()-b.timerStart}ms.${D}`,x)}else Q.log(`Received response ${l.id} without active response promise.`,x)}else dt("receive-response",l)}function dt(l,b){if(!Q||F===be.Off)return;let x={isLSPMessage:!0,type:l,message:b,timestamp:Date.now()};Q.log(x)}function ft(){if(U())throw new fr(pi.Closed,"Connection is closed.");if(ke())throw new fr(pi.Disposed,"Connection is disposed.")}function ah(){if(Ee())throw new fr(pi.AlreadyListening,"Connection is already listening")}function uh(){if(!Ee())throw new Error("Call listen() first.")}function en(l){return l===void 0?null:l}function Ta(l){if(l!==null)return l}function ka(l){return l!=null&&!Array.isArray(l)&&typeof l=="object"}function ki(l,b){switch(l){case L.ParameterStructures.auto:return ka(b)?Ta(b):[en(b)];case L.ParameterStructures.byName:if(!ka(b))throw new Error("Recevied parameters by name but param is not an object literal.");return Ta(b);case L.ParameterStructures.byPosition:return[en(b)];default:throw new Error(`Unknown parameter structure ${l.toString()}`)}}function Da(l,b){let x,D=l.numberOfParams;switch(D){case 0:x=void 0;break;case 1:x=ki(l.parameterStructures,b[0]);break;default:x=[];for(let X=0;X<b.length&&X<D;X++)x.push(en(b[X]));if(b.length<D)for(let X=b.length;X<D;X++)x.push(null);break}return x}let _r={sendNotification:(l,...b)=>{ft();let x,D;if(xe.string(l)){x=l;let me=b[0],we=0,Ce=L.ParameterStructures.auto;L.ParameterStructures.is(me)&&(we=1,Ce=me);let K=b.length,ge=K-we;switch(ge){case 0:D=void 0;break;case 1:D=ki(Ce,b[we]);break;default:if(Ce===L.ParameterStructures.byName)throw new Error(`Recevied ${ge} parameters for 'by Name' notification parameter structure.`);D=b.slice(we,K).map(Z=>en(Z));break}}else{let me=b;x=l.method,D=Da(l,me)}let X={jsonrpc:c,method:x,params:D};C(X),e.write(X)},onNotification:(l,b)=>{ft();let x;return xe.func(l)?h=l:b&&(xe.string(l)?(x=l,p[l]={type:void 0,handler:b}):(x=l.method,p[l.method]={type:l,handler:b})),{dispose:()=>{x!==void 0?delete p[x]:h=void 0}}},onProgress:(l,b,x)=>{if(w.has(b))throw new Error(`Progress handler for token ${b} already registered`);return w.set(b,x),{dispose:()=>{w.delete(b)}}},sendProgress:(l,b,x)=>{_r.sendNotification(fi.type,{token:b,value:x})},onUnhandledProgress:Y.event,sendRequest:(l,...b)=>{ft(),uh();let x,D,X;if(xe.string(l)){x=l;let K=b[0],ge=b[b.length-1],Z=0,Se=L.ParameterStructures.auto;L.ParameterStructures.is(K)&&(Z=1,Se=K);let je=b.length;_o.CancellationToken.is(ge)&&(je=je-1,X=ge);let Zt=je-Z;switch(Zt){case 0:D=void 0;break;case 1:D=ki(Se,b[Z]);break;default:if(Se===L.ParameterStructures.byName)throw new Error(`Recevied ${Zt} parameters for 'by Name' request parameter structure.`);D=b.slice(Z,je).map(Ft=>en(Ft));break}}else{let K=b;x=l.method,D=Da(l,K);let ge=l.numberOfParams;X=_o.CancellationToken.is(K[ge])?K[ge]:void 0}let me=s++,we;return X&&(we=X.onCancellationRequested(()=>{_.sender.sendCancellation(_r,me)})),new Promise((K,ge)=>{let Z={jsonrpc:c,id:me,method:x,params:D},Se=Ft=>{K(Ft),_.sender.cleanup(me),we==null||we.dispose()},je=Ft=>{ge(Ft),_.sender.cleanup(me),we==null||we.dispose()},Zt={method:x,timerStart:Date.now(),resolve:Se,reject:je};se(Z);try{e.write(Z)}catch(Ft){Zt.reject(new L.ResponseError(L.ErrorCodes.MessageWriteError,Ft.message?Ft.message:"Unknown reason")),Zt=null}Zt&&(k[String(me)]=Zt)})},onRequest:(l,b)=>{ft();let x=null;return bo.is(l)?(x=void 0,d=l):xe.string(l)?(x=null,b!==void 0&&(x=l,f[l]={handler:b,type:void 0})):b!==void 0&&(x=l.method,f[l.method]={type:l,handler:b}),{dispose:()=>{x!==null&&(x!==void 0?delete f[x]:d=void 0)}}},trace:(l,b,x)=>{let D=!1,X=rt.Text;x!==void 0&&(xe.boolean(x)?D=x:(D=x.sendNotification||!1,X=x.traceFormat||rt.Text)),F=l,z=X,F===be.Off?Q=void 0:Q=b,D&&!U()&&!ke()&&_r.sendNotification(bf.type,{value:be.toString(l)})},onError:re.event,onClose:j.event,onUnhandledNotification:O.event,onDispose:_e.event,end:()=>{e.end()},dispose:()=>{if(ke())return;N=nt.Disposed,_e.fire(void 0);let l=new Error("Connection got disposed.");Object.keys(k).forEach(b=>{k[b].reject(l)}),k=Object.create(null),A=Object.create(null),E=new yf.LinkedMap,xe.func(e.dispose)&&e.dispose(),xe.func(t.dispose)&&t.dispose()},listen:()=>{ft(),ah(),N=nt.Listening,t.listen(wt)},inspect:()=>{vf.default().console.log("inspect")}};return _r.onNotification(Ro.type,l=>{F===be.Off||!Q||Q.log(l.message,F===be.Verbose?l.verbose:void 0)}),_r.onNotification(fi.type,l=>{let b=w.get(l.token);b?b(l.value):Y.fire(l)}),_r}M.createMessageConnection=r_});var Po=g(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.CancellationSenderStrategy=R.CancellationReceiverStrategy=R.ConnectionError=R.ConnectionErrors=R.LogTraceNotification=R.SetTraceNotification=R.TraceFormat=R.Trace=R.ProgressType=R.createMessageConnection=R.NullLogger=R.ConnectionOptions=R.ConnectionStrategy=R.WriteableStreamMessageWriter=R.AbstractMessageWriter=R.MessageWriter=R.ReadableStreamMessageReader=R.AbstractMessageReader=R.MessageReader=R.CancellationToken=R.CancellationTokenSource=R.Emitter=R.Event=R.Disposable=R.ParameterStructures=R.NotificationType9=R.NotificationType8=R.NotificationType7=R.NotificationType6=R.NotificationType5=R.NotificationType4=R.NotificationType3=R.NotificationType2=R.NotificationType1=R.NotificationType0=R.NotificationType=R.ErrorCodes=R.ResponseError=R.RequestType9=R.RequestType8=R.RequestType7=R.RequestType6=R.RequestType5=R.RequestType4=R.RequestType3=R.RequestType2=R.RequestType1=R.RequestType0=R.RequestType=R.RAL=void 0;R.CancellationStrategy=void 0;var ce=ao();Object.defineProperty(R,"RequestType",{enumerable:!0,get:function(){return ce.RequestType}});Object.defineProperty(R,"RequestType0",{enumerable:!0,get:function(){return ce.RequestType0}});Object.defineProperty(R,"RequestType1",{enumerable:!0,get:function(){return ce.RequestType1}});Object.defineProperty(R,"RequestType2",{enumerable:!0,get:function(){return ce.RequestType2}});Object.defineProperty(R,"RequestType3",{enumerable:!0,get:function(){return ce.RequestType3}});Object.defineProperty(R,"RequestType4",{enumerable:!0,get:function(){return ce.RequestType4}});Object.defineProperty(R,"RequestType5",{enumerable:!0,get:function(){return ce.RequestType5}});Object.defineProperty(R,"RequestType6",{enumerable:!0,get:function(){return ce.RequestType6}});Object.defineProperty(R,"RequestType7",{enumerable:!0,get:function(){return ce.RequestType7}});Object.defineProperty(R,"RequestType8",{enumerable:!0,get:function(){return ce.RequestType8}});Object.defineProperty(R,"RequestType9",{enumerable:!0,get:function(){return ce.RequestType9}});Object.defineProperty(R,"ResponseError",{enumerable:!0,get:function(){return ce.ResponseError}});Object.defineProperty(R,"ErrorCodes",{enumerable:!0,get:function(){return ce.ErrorCodes}});Object.defineProperty(R,"NotificationType",{enumerable:!0,get:function(){return ce.NotificationType}});Object.defineProperty(R,"NotificationType0",{enumerable:!0,get:function(){return ce.NotificationType0}});Object.defineProperty(R,"NotificationType1",{enumerable:!0,get:function(){return ce.NotificationType1}});Object.defineProperty(R,"NotificationType2",{enumerable:!0,get:function(){return ce.NotificationType2}});Object.defineProperty(R,"NotificationType3",{enumerable:!0,get:function(){return ce.NotificationType3}});Object.defineProperty(R,"NotificationType4",{enumerable:!0,get:function(){return ce.NotificationType4}});Object.defineProperty(R,"NotificationType5",{enumerable:!0,get:function(){return ce.NotificationType5}});Object.defineProperty(R,"NotificationType6",{enumerable:!0,get:function(){return ce.NotificationType6}});Object.defineProperty(R,"NotificationType7",{enumerable:!0,get:function(){return ce.NotificationType7}});Object.defineProperty(R,"NotificationType8",{enumerable:!0,get:function(){return ce.NotificationType8}});Object.defineProperty(R,"NotificationType9",{enumerable:!0,get:function(){return ce.NotificationType9}});Object.defineProperty(R,"ParameterStructures",{enumerable:!0,get:function(){return ce.ParameterStructures}});var n_=io();Object.defineProperty(R,"Disposable",{enumerable:!0,get:function(){return n_.Disposable}});var Sf=$r();Object.defineProperty(R,"Event",{enumerable:!0,get:function(){return Sf.Event}});Object.defineProperty(R,"Emitter",{enumerable:!0,get:function(){return Sf.Emitter}});var Ef=fo();Object.defineProperty(R,"CancellationTokenSource",{enumerable:!0,get:function(){return Ef.CancellationTokenSource}});Object.defineProperty(R,"CancellationToken",{enumerable:!0,get:function(){return Ef.CancellationToken}});var Co=af();Object.defineProperty(R,"MessageReader",{enumerable:!0,get:function(){return Co.MessageReader}});Object.defineProperty(R,"AbstractMessageReader",{enumerable:!0,get:function(){return Co.AbstractMessageReader}});Object.defineProperty(R,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Co.ReadableStreamMessageReader}});var xo=hf();Object.defineProperty(R,"MessageWriter",{enumerable:!0,get:function(){return xo.MessageWriter}});Object.defineProperty(R,"AbstractMessageWriter",{enumerable:!0,get:function(){return xo.AbstractMessageWriter}});Object.defineProperty(R,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return xo.WriteableStreamMessageWriter}});var We=wf();Object.defineProperty(R,"ConnectionStrategy",{enumerable:!0,get:function(){return We.ConnectionStrategy}});Object.defineProperty(R,"ConnectionOptions",{enumerable:!0,get:function(){return We.ConnectionOptions}});Object.defineProperty(R,"NullLogger",{enumerable:!0,get:function(){return We.NullLogger}});Object.defineProperty(R,"createMessageConnection",{enumerable:!0,get:function(){return We.createMessageConnection}});Object.defineProperty(R,"ProgressType",{enumerable:!0,get:function(){return We.ProgressType}});Object.defineProperty(R,"Trace",{enumerable:!0,get:function(){return We.Trace}});Object.defineProperty(R,"TraceFormat",{enumerable:!0,get:function(){return We.TraceFormat}});Object.defineProperty(R,"SetTraceNotification",{enumerable:!0,get:function(){return We.SetTraceNotification}});Object.defineProperty(R,"LogTraceNotification",{enumerable:!0,get:function(){return We.LogTraceNotification}});Object.defineProperty(R,"ConnectionErrors",{enumerable:!0,get:function(){return We.ConnectionErrors}});Object.defineProperty(R,"ConnectionError",{enumerable:!0,get:function(){return We.ConnectionError}});Object.defineProperty(R,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return We.CancellationReceiverStrategy}});Object.defineProperty(R,"CancellationSenderStrategy",{enumerable:!0,get:function(){return We.CancellationSenderStrategy}});Object.defineProperty(R,"CancellationStrategy",{enumerable:!0,get:function(){return We.CancellationStrategy}});var i_=kt();R.RAL=i_.default});var Ur=g(J=>{"use strict";var s_=J&&J.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),o_=J&&J.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&s_(e,t,r)};Object.defineProperty(J,"__esModule",{value:!0});J.createMessageConnection=J.createServerSocketTransport=J.createClientSocketTransport=J.createServerPipeTransport=J.createClientPipeTransport=J.generateRandomPipeName=J.StreamMessageWriter=J.StreamMessageReader=J.SocketMessageWriter=J.SocketMessageReader=J.IPCMessageWriter=J.IPCMessageReader=void 0;var Hr=Dd();Hr.default.install();var bt=Po(),Cf=require("path"),a_=require("os"),u_=require("crypto"),hi=require("net");o_(Po(),J);var xf=class extends bt.AbstractMessageReader{constructor(e){super();this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),bt.Disposable.create(()=>this.process.off("message",e))}};J.IPCMessageReader=xf;var Pf=class extends bt.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};J.IPCMessageWriter=Pf;var Br=class extends bt.ReadableStreamMessageReader{constructor(e,r="utf-8"){super(Hr.default().stream.asReadableStream(e),r)}};J.SocketMessageReader=Br;var Wr=class extends bt.WriteableStreamMessageWriter{constructor(e,r){super(Hr.default().stream.asWritableStream(e),r);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};J.SocketMessageWriter=Wr;var To=class extends bt.ReadableStreamMessageReader{constructor(e,r){super(Hr.default().stream.asReadableStream(e),r)}};J.StreamMessageReader=To;var ko=class extends bt.WriteableStreamMessageWriter{constructor(e,r){super(Hr.default().stream.asWritableStream(e),r)}};J.StreamMessageWriter=ko;var Tf=process.env.XDG_RUNTIME_DIR,c_=new Map([["linux",107],["darwin",103]]);function l_(){let t=u_.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Tf?e=Cf.join(Tf,`vscode-ipc-${t}.sock`):e=Cf.join(a_.tmpdir(),`vscode-${t}.sock`);let r=c_.get(process.platform);return r!==void 0&&e.length>=r&&Hr.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}J.generateRandomPipeName=l_;function d_(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=hi.createServer(a=>{o.close(),r([new Br(a,e),new Wr(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}J.createClientPipeTransport=d_;function f_(t,e="utf-8"){let r=hi.createConnection(t);return[new Br(r,e),new Wr(r,e)]}J.createServerPipeTransport=f_;function p_(t,e="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=hi.createServer(a=>{o.close(),r([new Br(a,e),new Wr(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}J.createClientSocketTransport=p_;function h_(t,e="utf-8"){let r=hi.createConnection(t,"127.0.0.1");return[new Br(r,e),new Wr(r,e)]}J.createServerSocketTransport=h_;function m_(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function g_(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function v_(t,e,r,n){r||(r=bt.NullLogger);let i=m_(t)?new To(t):t,s=g_(e)?new ko(e):e;return bt.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),bt.createMessageConnection(i,s,r,n)}J.createMessageConnection=v_});var Do=g((yC,kf)=>{"use strict";kf.exports=Ur()});var Af=g(y_=>{Di(y_);Aa(y_,{AnnotatedTextEdit:()=>Lt,ChangeAnnotation:()=>pr,ChangeAnnotationIdentifier:()=>Oe,CodeAction:()=>aa,CodeActionContext:()=>oa,CodeActionKind:()=>sa,CodeDescription:()=>$o,CodeLens:()=>ua,Color:()=>gi,ColorInformation:()=>qo,ColorPresentation:()=>Lo,Command:()=>Gr,CompletionItem:()=>Qo,CompletionItemKind:()=>Wo,CompletionItemTag:()=>Go,CompletionList:()=>Yo,CreateFile:()=>Vr,DeleteFile:()=>Qr,Diagnostic:()=>mn,DiagnosticRelatedInformation:()=>vi,DiagnosticSeverity:()=>Fo,DiagnosticTag:()=>Io,DocumentHighlight:()=>ea,DocumentHighlightKind:()=>Zo,DocumentLink:()=>la,DocumentSymbol:()=>ia,EOL:()=>b_,FoldingRange:()=>Mo,FoldingRangeKind:()=>No,FormattingOptions:()=>ca,Hover:()=>Xo,InsertReplaceEdit:()=>Vo,InsertTextFormat:()=>Uo,InsertTextMode:()=>zo,Location:()=>mi,LocationLink:()=>Oo,MarkedString:()=>yn,MarkupContent:()=>bi,MarkupKind:()=>Yr,OptionalVersionedTextDocumentIdentifier:()=>vn,ParameterInformation:()=>Jo,Position:()=>it,Range:()=>Pe,RenameFile:()=>zr,SelectionRange:()=>da,SignatureInformation:()=>Ko,SymbolInformation:()=>na,SymbolKind:()=>ta,SymbolTag:()=>ra,TextDocument:()=>fa,TextDocumentEdit:()=>gn,TextDocumentIdentifier:()=>jo,TextDocumentItem:()=>Bo,TextEdit:()=>qt,VersionedTextDocumentIdentifier:()=>Ho,WorkspaceChange:()=>__,WorkspaceEdit:()=>yi,integer:()=>Ao,uinteger:()=>hn});"use strict";var Ao;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647})(Ao||(Ao={}));var hn;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647})(hn||(hn={}));var it;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=hn.MAX_VALUE),i===Number.MAX_VALUE&&(i=hn.MAX_VALUE),{line:n,character:i}}t.create=e;function r(n){var i=n;return m.objectLiteral(i)&&m.uinteger(i.line)&&m.uinteger(i.character)}t.is=r})(it||(it={}));var Pe;(function(t){function e(n,i,s,o){if(m.uinteger(n)&&m.uinteger(i)&&m.uinteger(s)&&m.uinteger(o))return{start:it.create(n,i),end:it.create(s,o)};if(it.is(n)&&it.is(i))return{start:n,end:i};throw new Error("Range#create called with invalid arguments["+n+", "+i+", "+s+", "+o+"]")}t.create=e;function r(n){var i=n;return m.objectLiteral(i)&&it.is(i.start)&&it.is(i.end)}t.is=r})(Pe||(Pe={}));var mi;(function(t){function e(n,i){return{uri:n,range:i}}t.create=e;function r(n){var i=n;return m.defined(i)&&Pe.is(i.range)&&(m.string(i.uri)||m.undefined(i.uri))}t.is=r})(mi||(mi={}));var Oo;(function(t){function e(n,i,s,o){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}t.create=e;function r(n){var i=n;return m.defined(i)&&Pe.is(i.targetRange)&&m.string(i.targetUri)&&(Pe.is(i.targetSelectionRange)||m.undefined(i.targetSelectionRange))&&(Pe.is(i.originSelectionRange)||m.undefined(i.originSelectionRange))}t.is=r})(Oo||(Oo={}));var gi;(function(t){function e(n,i,s,o){return{red:n,green:i,blue:s,alpha:o}}t.create=e;function r(n){var i=n;return m.numberRange(i.red,0,1)&&m.numberRange(i.green,0,1)&&m.numberRange(i.blue,0,1)&&m.numberRange(i.alpha,0,1)}t.is=r})(gi||(gi={}));var qo;(function(t){function e(n,i){return{range:n,color:i}}t.create=e;function r(n){var i=n;return Pe.is(i.range)&&gi.is(i.color)}t.is=r})(qo||(qo={}));var Lo;(function(t){function e(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}t.create=e;function r(n){var i=n;return m.string(i.label)&&(m.undefined(i.textEdit)||qt.is(i))&&(m.undefined(i.additionalTextEdits)||m.typedArray(i.additionalTextEdits,qt.is))}t.is=r})(Lo||(Lo={}));var No;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(No||(No={}));var Mo;(function(t){function e(n,i,s,o,a){var c={startLine:n,endLine:i};return m.defined(s)&&(c.startCharacter=s),m.defined(o)&&(c.endCharacter=o),m.defined(a)&&(c.kind=a),c}t.create=e;function r(n){var i=n;return m.uinteger(i.startLine)&&m.uinteger(i.startLine)&&(m.undefined(i.startCharacter)||m.uinteger(i.startCharacter))&&(m.undefined(i.endCharacter)||m.uinteger(i.endCharacter))&&(m.undefined(i.kind)||m.string(i.kind))}t.is=r})(Mo||(Mo={}));var vi;(function(t){function e(n,i){return{location:n,message:i}}t.create=e;function r(n){var i=n;return m.defined(i)&&mi.is(i.location)&&m.string(i.message)}t.is=r})(vi||(vi={}));var Fo;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(Fo||(Fo={}));var Io;(function(t){t.Unnecessary=1,t.Deprecated=2})(Io||(Io={}));var $o;(function(t){function e(r){var n=r;return n!=null&&m.string(n.href)}t.is=e})($o||($o={}));var mn;(function(t){function e(n,i,s,o,a,c){var d={range:n,message:i};return m.defined(s)&&(d.severity=s),m.defined(o)&&(d.code=o),m.defined(a)&&(d.source=a),m.defined(c)&&(d.relatedInformation=c),d}t.create=e;function r(n){var i,s=n;return m.defined(s)&&Pe.is(s.range)&&m.string(s.message)&&(m.number(s.severity)||m.undefined(s.severity))&&(m.integer(s.code)||m.string(s.code)||m.undefined(s.code))&&(m.undefined(s.codeDescription)||m.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(m.string(s.source)||m.undefined(s.source))&&(m.undefined(s.relatedInformation)||m.typedArray(s.relatedInformation,vi.is))}t.is=r})(mn||(mn={}));var Gr;(function(t){function e(n,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a={title:n,command:i};return m.defined(s)&&s.length>0&&(a.arguments=s),a}t.create=e;function r(n){var i=n;return m.defined(i)&&m.string(i.title)&&m.string(i.command)}t.is=r})(Gr||(Gr={}));var qt;(function(t){function e(s,o){return{range:s,newText:o}}t.replace=e;function r(s,o){return{range:{start:s,end:s},newText:o}}t.insert=r;function n(s){return{range:s,newText:""}}t.del=n;function i(s){var o=s;return m.objectLiteral(o)&&m.string(o.newText)&&Pe.is(o.range)}t.is=i})(qt||(qt={}));var pr;(function(t){function e(n,i,s){var o={label:n};return i!==void 0&&(o.needsConfirmation=i),s!==void 0&&(o.description=s),o}t.create=e;function r(n){var i=n;return i!==void 0&&m.objectLiteral(i)&&m.string(i.label)&&(m.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(m.string(i.description)||i.description===void 0)}t.is=r})(pr||(pr={}));var Oe;(function(t){function e(r){var n=r;return typeof n=="string"}t.is=e})(Oe||(Oe={}));var Lt;(function(t){function e(s,o,a){return{range:s,newText:o,annotationId:a}}t.replace=e;function r(s,o,a){return{range:{start:s,end:s},newText:o,annotationId:a}}t.insert=r;function n(s,o){return{range:s,newText:"",annotationId:o}}t.del=n;function i(s){var o=s;return qt.is(o)&&(pr.is(o.annotationId)||Oe.is(o.annotationId))}t.is=i})(Lt||(Lt={}));var gn;(function(t){function e(n,i){return{textDocument:n,edits:i}}t.create=e;function r(n){var i=n;return m.defined(i)&&vn.is(i.textDocument)&&Array.isArray(i.edits)}t.is=r})(gn||(gn={}));var Vr;(function(t){function e(n,i,s){var o={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}t.create=e;function r(n){var i=n;return i&&i.kind==="create"&&m.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||m.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||m.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Oe.is(i.annotationId))}t.is=r})(Vr||(Vr={}));var zr;(function(t){function e(n,i,s,o){var a={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),o!==void 0&&(a.annotationId=o),a}t.create=e;function r(n){var i=n;return i&&i.kind==="rename"&&m.string(i.oldUri)&&m.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||m.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||m.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Oe.is(i.annotationId))}t.is=r})(zr||(zr={}));var Qr;(function(t){function e(n,i,s){var o={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}t.create=e;function r(n){var i=n;return i&&i.kind==="delete"&&m.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||m.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||m.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Oe.is(i.annotationId))}t.is=r})(Qr||(Qr={}));var yi;(function(t){function e(r){var n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(i){return m.string(i.kind)?Vr.is(i)||zr.is(i)||Qr.is(i):gn.is(i)}))}t.is=e})(yi||(yi={}));var _i=function(){function t(e,r){this.edits=e,this.changeAnnotations=r}return t.prototype.insert=function(e,r,n){var i,s;if(n===void 0?i=qt.insert(e,r):Oe.is(n)?(s=n,i=Lt.insert(e,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=Lt.insert(e,r,s)),this.edits.push(i),s!==void 0)return s},t.prototype.replace=function(e,r,n){var i,s;if(n===void 0?i=qt.replace(e,r):Oe.is(n)?(s=n,i=Lt.replace(e,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=Lt.replace(e,r,s)),this.edits.push(i),s!==void 0)return s},t.prototype.delete=function(e,r){var n,i;if(r===void 0?n=qt.del(e):Oe.is(r)?(i=r,n=Lt.del(e,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=Lt.del(e,i)),this.edits.push(n),i!==void 0)return i},t.prototype.add=function(e){this.edits.push(e)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),Df=function(){function t(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}return t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(e,r){var n;if(Oe.is(e)?n=e:(n=this.nextId(),r=e),this._annotations[n]!==void 0)throw new Error("Id "+n+" is already in use.");if(r===void 0)throw new Error("No annotation provided for id "+n);return this._annotations[n]=r,this._size++,n},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}(),__=function(){function t(e){var r=this;this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Df(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(function(n){if(gn.is(n)){var i=new _i(n.edits,r._changeAnnotations);r._textEditChanges[n.textDocument.uri]=i}})):e.changes&&Object.keys(e.changes).forEach(function(n){var i=new _i(e.changes[n]);r._textEditChanges[n]=i})):this._workspaceEdit={}}return Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(e){if(vn.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r={uri:e.uri,version:e.version},n=this._textEditChanges[r.uri];if(!n){var i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new _i(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[e];if(!n){var i=[];this._workspaceEdit.changes[e]=i,n=new _i(i),this._textEditChanges[e]=n}return n}},t.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Df,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(e,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;pr.is(r)||Oe.is(r)?i=r:n=r;var s,o;if(i===void 0?s=Vr.create(e,n):(o=Oe.is(i)?i:this._changeAnnotations.manage(i),s=Vr.create(e,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},t.prototype.renameFile=function(e,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;pr.is(n)||Oe.is(n)?s=n:i=n;var o,a;if(s===void 0?o=zr.create(e,r,i):(a=Oe.is(s)?s:this._changeAnnotations.manage(s),o=zr.create(e,r,i,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},t.prototype.deleteFile=function(e,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;pr.is(r)||Oe.is(r)?i=r:n=r;var s,o;if(i===void 0?s=Qr.create(e,n):(o=Oe.is(i)?i:this._changeAnnotations.manage(i),s=Qr.create(e,n,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},t}(),jo;(function(t){function e(n){return{uri:n}}t.create=e;function r(n){var i=n;return m.defined(i)&&m.string(i.uri)}t.is=r})(jo||(jo={}));var Ho;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){var i=n;return m.defined(i)&&m.string(i.uri)&&m.integer(i.version)}t.is=r})(Ho||(Ho={}));var vn;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){var i=n;return m.defined(i)&&m.string(i.uri)&&(i.version===null||m.integer(i.version))}t.is=r})(vn||(vn={}));var Bo;(function(t){function e(n,i,s,o){return{uri:n,languageId:i,version:s,text:o}}t.create=e;function r(n){var i=n;return m.defined(i)&&m.string(i.uri)&&m.string(i.languageId)&&m.integer(i.version)&&m.string(i.text)}t.is=r})(Bo||(Bo={}));var Yr;(function(t){t.PlainText="plaintext",t.Markdown="markdown"})(Yr||(Yr={}));(function(t){function e(r){var n=r;return n===t.PlainText||n===t.Markdown}t.is=e})(Yr||(Yr={}));var bi;(function(t){function e(r){var n=r;return m.objectLiteral(r)&&Yr.is(n.kind)&&m.string(n.value)}t.is=e})(bi||(bi={}));var Wo;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(Wo||(Wo={}));var Uo;(function(t){t.PlainText=1,t.Snippet=2})(Uo||(Uo={}));var Go;(function(t){t.Deprecated=1})(Go||(Go={}));var Vo;(function(t){function e(n,i,s){return{newText:n,insert:i,replace:s}}t.create=e;function r(n){var i=n;return i&&m.string(i.newText)&&Pe.is(i.insert)&&Pe.is(i.replace)}t.is=r})(Vo||(Vo={}));var zo;(function(t){t.asIs=1,t.adjustIndentation=2})(zo||(zo={}));var Qo;(function(t){function e(r){return{label:r}}t.create=e})(Qo||(Qo={}));var Yo;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}t.create=e})(Yo||(Yo={}));var yn;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function r(n){var i=n;return m.string(i)||m.objectLiteral(i)&&m.string(i.language)&&m.string(i.value)}t.is=r})(yn||(yn={}));var Xo;(function(t){function e(r){var n=r;return!!n&&m.objectLiteral(n)&&(bi.is(n.contents)||yn.is(n.contents)||m.typedArray(n.contents,yn.is))&&(r.range===void 0||Pe.is(r.range))}t.is=e})(Xo||(Xo={}));var Jo;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}t.create=e})(Jo||(Jo={}));var Ko;(function(t){function e(r,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o={label:r};return m.defined(n)&&(o.documentation=n),m.defined(i)?o.parameters=i:o.parameters=[],o}t.create=e})(Ko||(Ko={}));var Zo;(function(t){t.Text=1,t.Read=2,t.Write=3})(Zo||(Zo={}));var ea;(function(t){function e(r,n){var i={range:r};return m.number(n)&&(i.kind=n),i}t.create=e})(ea||(ea={}));var ta;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(ta||(ta={}));var ra;(function(t){t.Deprecated=1})(ra||(ra={}));var na;(function(t){function e(r,n,i,s,o){var a={name:r,kind:n,location:{uri:s,range:i}};return o&&(a.containerName=o),a}t.create=e})(na||(na={}));var ia;(function(t){function e(n,i,s,o,a,c){var d={name:n,detail:i,kind:s,range:o,selectionRange:a};return c!==void 0&&(d.children=c),d}t.create=e;function r(n){var i=n;return i&&m.string(i.name)&&m.number(i.kind)&&Pe.is(i.range)&&Pe.is(i.selectionRange)&&(i.detail===void 0||m.string(i.detail))&&(i.deprecated===void 0||m.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=r})(ia||(ia={}));var sa;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(sa||(sa={}));var oa;(function(t){function e(n,i){var s={diagnostics:n};return i!=null&&(s.only=i),s}t.create=e;function r(n){var i=n;return m.defined(i)&&m.typedArray(i.diagnostics,mn.is)&&(i.only===void 0||m.typedArray(i.only,m.string))}t.is=r})(oa||(oa={}));var aa;(function(t){function e(n,i,s){var o={title:n},a=!0;return typeof i=="string"?(a=!1,o.kind=i):Gr.is(i)?o.command=i:o.edit=i,a&&s!==void 0&&(o.kind=s),o}t.create=e;function r(n){var i=n;return i&&m.string(i.title)&&(i.diagnostics===void 0||m.typedArray(i.diagnostics,mn.is))&&(i.kind===void 0||m.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Gr.is(i.command))&&(i.isPreferred===void 0||m.boolean(i.isPreferred))&&(i.edit===void 0||yi.is(i.edit))}t.is=r})(aa||(aa={}));var ua;(function(t){function e(n,i){var s={range:n};return m.defined(i)&&(s.data=i),s}t.create=e;function r(n){var i=n;return m.defined(i)&&Pe.is(i.range)&&(m.undefined(i.command)||Gr.is(i.command))}t.is=r})(ua||(ua={}));var ca;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}t.create=e;function r(n){var i=n;return m.defined(i)&&m.uinteger(i.tabSize)&&m.boolean(i.insertSpaces)}t.is=r})(ca||(ca={}));var la;(function(t){function e(n,i,s){return{range:n,target:i,data:s}}t.create=e;function r(n){var i=n;return m.defined(i)&&Pe.is(i.range)&&(m.undefined(i.target)||m.string(i.target))}t.is=r})(la||(la={}));var da;(function(t){function e(n,i){return{range:n,parent:i}}t.create=e;function r(n){var i=n;return i!==void 0&&Pe.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=r})(da||(da={}));var b_=[`
`,`\r
`,"\r"],fa;(function(t){function e(s,o,a,c){return new R_(s,o,a,c)}t.create=e;function r(s){var o=s;return!!(m.defined(o)&&m.string(o.uri)&&(m.undefined(o.languageId)||m.string(o.languageId))&&m.uinteger(o.lineCount)&&m.func(o.getText)&&m.func(o.positionAt)&&m.func(o.offsetAt))}t.is=r;function n(s,o){for(var a=s.getText(),c=i(o,function(S,E){var k=S.range.start.line-E.range.start.line;return k===0?S.range.start.character-E.range.start.character:k}),d=a.length,f=c.length-1;f>=0;f--){var h=c[f],p=s.offsetAt(h.range.start),w=s.offsetAt(h.range.end);if(w<=d)a=a.substring(0,p)+h.newText+a.substring(w,a.length);else throw new Error("Overlapping edit");d=p}return a}t.applyEdits=n;function i(s,o){if(s.length<=1)return s;var a=s.length/2|0,c=s.slice(0,a),d=s.slice(a);i(c,o),i(d,o);for(var f=0,h=0,p=0;f<c.length&&h<d.length;){var w=o(c[f],d[h]);w<=0?s[p++]=c[f++]:s[p++]=d[h++]}for(;f<c.length;)s[p++]=c[f++];for(;h<d.length;)s[p++]=d[h++];return s}})(fa||(fa={}));var R_=function(){function t(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(e){if(e){var r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content},t.prototype.update=function(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var e=[],r=this._content,n=!0,i=0;i<r.length;i++){n&&(e.push(i),n=!1);var s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets},t.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return it.create(0,e);for(;n<i;){var s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}var o=n-1;return it.create(o,e-r[o])},t.prototype.offsetAt=function(e){var r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;var n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}(),m;(function(t){var e=Object.prototype.toString;function r(w){return typeof w!="undefined"}t.defined=r;function n(w){return typeof w=="undefined"}t.undefined=n;function i(w){return w===!0||w===!1}t.boolean=i;function s(w){return e.call(w)==="[object String]"}t.string=s;function o(w){return e.call(w)==="[object Number]"}t.number=o;function a(w,S,E){return e.call(w)==="[object Number]"&&S<=w&&w<=E}t.numberRange=a;function c(w){return e.call(w)==="[object Number]"&&-2147483648<=w&&w<=2147483647}t.integer=c;function d(w){return e.call(w)==="[object Number]"&&0<=w&&w<=2147483647}t.uinteger=d;function f(w){return e.call(w)==="[object Function]"}t.func=f;function h(w){return w!==null&&typeof w=="object"}t.objectLiteral=h;function p(w,S){return Array.isArray(w)&&w.every(S)}t.typedArray=p})(m||(m={}))});var Te=g(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.ProtocolNotificationType=Je.ProtocolNotificationType0=Je.ProtocolRequestType=Je.ProtocolRequestType0=Je.RegistrationType=void 0;var Xr=Ur(),Of=class{constructor(e){this.method=e}};Je.RegistrationType=Of;var qf=class extends Xr.RequestType0{constructor(e){super(e)}};Je.ProtocolRequestType0=qf;var Lf=class extends Xr.RequestType{constructor(e){super(e,Xr.ParameterStructures.byName)}};Je.ProtocolRequestType=Lf;var Nf=class extends Xr.NotificationType0{constructor(e){super(e)}};Je.ProtocolNotificationType0=Nf;var Mf=class extends Xr.NotificationType{constructor(e){super(e,Xr.ParameterStructures.byName)}};Je.ProtocolNotificationType=Mf});var $f=g(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.objectLiteral=Re.typedArray=Re.stringArray=Re.array=Re.func=Re.error=Re.number=Re.string=Re.boolean=void 0;function w_(t){return t===!0||t===!1}Re.boolean=w_;function Ff(t){return typeof t=="string"||t instanceof String}Re.string=Ff;function S_(t){return typeof t=="number"||t instanceof Number}Re.number=S_;function E_(t){return t instanceof Error}Re.error=E_;function C_(t){return typeof t=="function"}Re.func=C_;function If(t){return Array.isArray(t)}Re.array=If;function x_(t){return If(t)&&t.every(e=>Ff(e))}Re.stringArray=x_;function P_(t,e){return Array.isArray(t)&&t.every(e)}Re.typedArray=P_;function T_(t){return t!==null&&typeof t=="object"}Re.objectLiteral=T_});var jf=g(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.ImplementationRequest=void 0;var k_=Te(),D_;(function(t){t.method="textDocument/implementation",t.type=new k_.ProtocolRequestType(t.method)})(D_=_n.ImplementationRequest||(_n.ImplementationRequest={}))});var Hf=g(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.TypeDefinitionRequest=void 0;var A_=Te(),O_;(function(t){t.method="textDocument/typeDefinition",t.type=new A_.ProtocolRequestType(t.method)})(O_=bn.TypeDefinitionRequest||(bn.TypeDefinitionRequest={}))});var Wf=g(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.DidChangeWorkspaceFoldersNotification=zt.WorkspaceFoldersRequest=void 0;var Bf=Te(),q_;(function(t){t.type=new Bf.ProtocolRequestType0("workspace/workspaceFolders")})(q_=zt.WorkspaceFoldersRequest||(zt.WorkspaceFoldersRequest={}));var L_;(function(t){t.type=new Bf.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(L_=zt.DidChangeWorkspaceFoldersNotification||(zt.DidChangeWorkspaceFoldersNotification={}))});var Uf=g(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.ConfigurationRequest=void 0;var N_=Te(),M_;(function(t){t.type=new N_.ProtocolRequestType("workspace/configuration")})(M_=Rn.ConfigurationRequest||(Rn.ConfigurationRequest={}))});var Vf=g(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ColorPresentationRequest=Qt.DocumentColorRequest=void 0;var Gf=Te(),F_;(function(t){t.method="textDocument/documentColor",t.type=new Gf.ProtocolRequestType(t.method)})(F_=Qt.DocumentColorRequest||(Qt.DocumentColorRequest={}));var I_;(function(t){t.type=new Gf.ProtocolRequestType("textDocument/colorPresentation")})(I_=Qt.ColorPresentationRequest||(Qt.ColorPresentationRequest={}))});var zf=g(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.FoldingRangeRequest=Yt.FoldingRangeKind=void 0;var $_=Te(),j_;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(j_=Yt.FoldingRangeKind||(Yt.FoldingRangeKind={}));var H_;(function(t){t.method="textDocument/foldingRange",t.type=new $_.ProtocolRequestType(t.method)})(H_=Yt.FoldingRangeRequest||(Yt.FoldingRangeRequest={}))});var Qf=g(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.DeclarationRequest=void 0;var B_=Te(),W_;(function(t){t.method="textDocument/declaration",t.type=new B_.ProtocolRequestType(t.method)})(W_=wn.DeclarationRequest||(wn.DeclarationRequest={}))});var Yf=g(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.SelectionRangeRequest=void 0;var U_=Te(),G_;(function(t){t.method="textDocument/selectionRange",t.type=new U_.ProtocolRequestType(t.method)})(G_=Sn.SelectionRangeRequest||(Sn.SelectionRangeRequest={}))});var Jf=g(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.WorkDoneProgressCancelNotification=st.WorkDoneProgressCreateRequest=st.WorkDoneProgress=void 0;var V_=Ur(),Xf=Te(),z_;(function(t){t.type=new V_.ProgressType;function e(r){return r===t.type}t.is=e})(z_=st.WorkDoneProgress||(st.WorkDoneProgress={}));var Q_;(function(t){t.type=new Xf.ProtocolRequestType("window/workDoneProgress/create")})(Q_=st.WorkDoneProgressCreateRequest||(st.WorkDoneProgressCreateRequest={}));var Y_;(function(t){t.type=new Xf.ProtocolNotificationType("window/workDoneProgress/cancel")})(Y_=st.WorkDoneProgressCancelNotification||(st.WorkDoneProgressCancelNotification={}))});var Kf=g(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.CallHierarchyOutgoingCallsRequest=ot.CallHierarchyIncomingCallsRequest=ot.CallHierarchyPrepareRequest=void 0;var pa=Te(),X_;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new pa.ProtocolRequestType(t.method)})(X_=ot.CallHierarchyPrepareRequest||(ot.CallHierarchyPrepareRequest={}));var J_;(function(t){t.method="callHierarchy/incomingCalls",t.type=new pa.ProtocolRequestType(t.method)})(J_=ot.CallHierarchyIncomingCallsRequest||(ot.CallHierarchyIncomingCallsRequest={}));var K_;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new pa.ProtocolRequestType(t.method)})(K_=ot.CallHierarchyOutgoingCallsRequest||(ot.CallHierarchyOutgoingCallsRequest={}))});var Zf=g(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.SemanticTokensRefreshRequest=te.SemanticTokensRangeRequest=te.SemanticTokensDeltaRequest=te.SemanticTokensRequest=te.SemanticTokensRegistrationType=te.TokenFormat=te.SemanticTokens=te.SemanticTokenModifiers=te.SemanticTokenTypes=void 0;var En=Te(),Z_;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Z_=te.SemanticTokenTypes||(te.SemanticTokenTypes={}));var eb;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(eb=te.SemanticTokenModifiers||(te.SemanticTokenModifiers={}));var tb;(function(t){function e(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(tb=te.SemanticTokens||(te.SemanticTokens={}));var rb;(function(t){t.Relative="relative"})(rb=te.TokenFormat||(te.TokenFormat={}));var nb;(function(t){t.method="textDocument/semanticTokens",t.type=new En.RegistrationType(t.method)})(nb=te.SemanticTokensRegistrationType||(te.SemanticTokensRegistrationType={}));var ib;(function(t){t.method="textDocument/semanticTokens/full",t.type=new En.ProtocolRequestType(t.method)})(ib=te.SemanticTokensRequest||(te.SemanticTokensRequest={}));var sb;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new En.ProtocolRequestType(t.method)})(sb=te.SemanticTokensDeltaRequest||(te.SemanticTokensDeltaRequest={}));var ob;(function(t){t.method="textDocument/semanticTokens/range",t.type=new En.ProtocolRequestType(t.method)})(ob=te.SemanticTokensRangeRequest||(te.SemanticTokensRangeRequest={}));var ab;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new En.ProtocolRequestType0(t.method)})(ab=te.SemanticTokensRefreshRequest||(te.SemanticTokensRefreshRequest={}))});var ep=g(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.ShowDocumentRequest=void 0;var ub=Te(),cb;(function(t){t.method="window/showDocument",t.type=new ub.ProtocolRequestType(t.method)})(cb=Cn.ShowDocumentRequest||(Cn.ShowDocumentRequest={}))});var tp=g(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.LinkedEditingRangeRequest=void 0;var lb=Te(),db;(function(t){t.method="textDocument/linkedEditingRange",t.type=new lb.ProtocolRequestType(t.method)})(db=xn.LinkedEditingRangeRequest||(xn.LinkedEditingRangeRequest={}))});var rp=g(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.WillDeleteFilesRequest=he.DidDeleteFilesNotification=he.DidRenameFilesNotification=he.WillRenameFilesRequest=he.DidCreateFilesNotification=he.WillCreateFilesRequest=he.FileOperationPatternKind=void 0;var Jr=Te(),fb;(function(t){t.file="file",t.folder="folder"})(fb=he.FileOperationPatternKind||(he.FileOperationPatternKind={}));var pb;(function(t){t.method="workspace/willCreateFiles",t.type=new Jr.ProtocolRequestType(t.method)})(pb=he.WillCreateFilesRequest||(he.WillCreateFilesRequest={}));var hb;(function(t){t.method="workspace/didCreateFiles",t.type=new Jr.ProtocolNotificationType(t.method)})(hb=he.DidCreateFilesNotification||(he.DidCreateFilesNotification={}));var mb;(function(t){t.method="workspace/willRenameFiles",t.type=new Jr.ProtocolRequestType(t.method)})(mb=he.WillRenameFilesRequest||(he.WillRenameFilesRequest={}));var gb;(function(t){t.method="workspace/didRenameFiles",t.type=new Jr.ProtocolNotificationType(t.method)})(gb=he.DidRenameFilesNotification||(he.DidRenameFilesNotification={}));var vb;(function(t){t.method="workspace/didDeleteFiles",t.type=new Jr.ProtocolNotificationType(t.method)})(vb=he.DidDeleteFilesNotification||(he.DidDeleteFilesNotification={}));var yb;(function(t){t.method="workspace/willDeleteFiles",t.type=new Jr.ProtocolRequestType(t.method)})(yb=he.WillDeleteFilesRequest||(he.WillDeleteFilesRequest={}))});var np=g(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.MonikerRequest=at.MonikerKind=at.UniquenessLevel=void 0;var _b=Te(),bb;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(bb=at.UniquenessLevel||(at.UniquenessLevel={}));var Rb;(function(t){t.import="import",t.export="export",t.local="local"})(Rb=at.MonikerKind||(at.MonikerKind={}));var wb;(function(t){t.method="textDocument/moniker",t.type=new _b.ProtocolRequestType(t.method)})(wb=at.MonikerRequest||(at.MonikerRequest={}))});var up=g(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.DocumentLinkRequest=u.CodeLensRefreshRequest=u.CodeLensResolveRequest=u.CodeLensRequest=u.WorkspaceSymbolRequest=u.CodeActionResolveRequest=u.CodeActionRequest=u.DocumentSymbolRequest=u.DocumentHighlightRequest=u.ReferencesRequest=u.DefinitionRequest=u.SignatureHelpRequest=u.SignatureHelpTriggerKind=u.HoverRequest=u.CompletionResolveRequest=u.CompletionRequest=u.CompletionTriggerKind=u.PublishDiagnosticsNotification=u.WatchKind=u.FileChangeType=u.DidChangeWatchedFilesNotification=u.WillSaveTextDocumentWaitUntilRequest=u.WillSaveTextDocumentNotification=u.TextDocumentSaveReason=u.DidSaveTextDocumentNotification=u.DidCloseTextDocumentNotification=u.DidChangeTextDocumentNotification=u.TextDocumentContentChangeEvent=u.DidOpenTextDocumentNotification=u.TextDocumentSyncKind=u.TelemetryEventNotification=u.LogMessageNotification=u.ShowMessageRequest=u.ShowMessageNotification=u.MessageType=u.DidChangeConfigurationNotification=u.ExitNotification=u.ShutdownRequest=u.InitializedNotification=u.InitializeError=u.InitializeRequest=u.WorkDoneProgressOptions=u.TextDocumentRegistrationOptions=u.StaticRegistrationOptions=u.FailureHandlingKind=u.ResourceOperationKind=u.UnregistrationRequest=u.RegistrationRequest=u.DocumentSelector=u.DocumentFilter=void 0;u.MonikerRequest=u.MonikerKind=u.UniquenessLevel=u.WillDeleteFilesRequest=u.DidDeleteFilesNotification=u.WillRenameFilesRequest=u.DidRenameFilesNotification=u.WillCreateFilesRequest=u.DidCreateFilesNotification=u.FileOperationPatternKind=u.LinkedEditingRangeRequest=u.ShowDocumentRequest=u.SemanticTokensRegistrationType=u.SemanticTokensRefreshRequest=u.SemanticTokensRangeRequest=u.SemanticTokensDeltaRequest=u.SemanticTokensRequest=u.TokenFormat=u.SemanticTokens=u.SemanticTokenModifiers=u.SemanticTokenTypes=u.CallHierarchyPrepareRequest=u.CallHierarchyOutgoingCallsRequest=u.CallHierarchyIncomingCallsRequest=u.WorkDoneProgressCancelNotification=u.WorkDoneProgressCreateRequest=u.WorkDoneProgress=u.SelectionRangeRequest=u.DeclarationRequest=u.FoldingRangeRequest=u.ColorPresentationRequest=u.DocumentColorRequest=u.ConfigurationRequest=u.DidChangeWorkspaceFoldersNotification=u.WorkspaceFoldersRequest=u.TypeDefinitionRequest=u.ImplementationRequest=u.ApplyWorkspaceEditRequest=u.ExecuteCommandRequest=u.PrepareRenameRequest=u.RenameRequest=u.PrepareSupportDefaultBehavior=u.DocumentOnTypeFormattingRequest=u.DocumentRangeFormattingRequest=u.DocumentFormattingRequest=u.DocumentLinkResolveRequest=void 0;var Xt=$f(),$=Te(),Sb=jf();Object.defineProperty(u,"ImplementationRequest",{enumerable:!0,get:function(){return Sb.ImplementationRequest}});var Eb=Hf();Object.defineProperty(u,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Eb.TypeDefinitionRequest}});var ip=Wf();Object.defineProperty(u,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return ip.WorkspaceFoldersRequest}});Object.defineProperty(u,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return ip.DidChangeWorkspaceFoldersNotification}});var Cb=Uf();Object.defineProperty(u,"ConfigurationRequest",{enumerable:!0,get:function(){return Cb.ConfigurationRequest}});var sp=Vf();Object.defineProperty(u,"DocumentColorRequest",{enumerable:!0,get:function(){return sp.DocumentColorRequest}});Object.defineProperty(u,"ColorPresentationRequest",{enumerable:!0,get:function(){return sp.ColorPresentationRequest}});var xb=zf();Object.defineProperty(u,"FoldingRangeRequest",{enumerable:!0,get:function(){return xb.FoldingRangeRequest}});var Pb=Qf();Object.defineProperty(u,"DeclarationRequest",{enumerable:!0,get:function(){return Pb.DeclarationRequest}});var Tb=Yf();Object.defineProperty(u,"SelectionRangeRequest",{enumerable:!0,get:function(){return Tb.SelectionRangeRequest}});var ha=Jf();Object.defineProperty(u,"WorkDoneProgress",{enumerable:!0,get:function(){return ha.WorkDoneProgress}});Object.defineProperty(u,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return ha.WorkDoneProgressCreateRequest}});Object.defineProperty(u,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return ha.WorkDoneProgressCancelNotification}});var ma=Kf();Object.defineProperty(u,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ma.CallHierarchyIncomingCallsRequest}});Object.defineProperty(u,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ma.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(u,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ma.CallHierarchyPrepareRequest}});var Nt=Zf();Object.defineProperty(u,"SemanticTokenTypes",{enumerable:!0,get:function(){return Nt.SemanticTokenTypes}});Object.defineProperty(u,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Nt.SemanticTokenModifiers}});Object.defineProperty(u,"SemanticTokens",{enumerable:!0,get:function(){return Nt.SemanticTokens}});Object.defineProperty(u,"TokenFormat",{enumerable:!0,get:function(){return Nt.TokenFormat}});Object.defineProperty(u,"SemanticTokensRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensRequest}});Object.defineProperty(u,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensDeltaRequest}});Object.defineProperty(u,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensRangeRequest}});Object.defineProperty(u,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensRefreshRequest}});Object.defineProperty(u,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Nt.SemanticTokensRegistrationType}});var kb=ep();Object.defineProperty(u,"ShowDocumentRequest",{enumerable:!0,get:function(){return kb.ShowDocumentRequest}});var Db=tp();Object.defineProperty(u,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Db.LinkedEditingRangeRequest}});var hr=rp();Object.defineProperty(u,"FileOperationPatternKind",{enumerable:!0,get:function(){return hr.FileOperationPatternKind}});Object.defineProperty(u,"DidCreateFilesNotification",{enumerable:!0,get:function(){return hr.DidCreateFilesNotification}});Object.defineProperty(u,"WillCreateFilesRequest",{enumerable:!0,get:function(){return hr.WillCreateFilesRequest}});Object.defineProperty(u,"DidRenameFilesNotification",{enumerable:!0,get:function(){return hr.DidRenameFilesNotification}});Object.defineProperty(u,"WillRenameFilesRequest",{enumerable:!0,get:function(){return hr.WillRenameFilesRequest}});Object.defineProperty(u,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return hr.DidDeleteFilesNotification}});Object.defineProperty(u,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return hr.WillDeleteFilesRequest}});var ga=np();Object.defineProperty(u,"UniquenessLevel",{enumerable:!0,get:function(){return ga.UniquenessLevel}});Object.defineProperty(u,"MonikerKind",{enumerable:!0,get:function(){return ga.MonikerKind}});Object.defineProperty(u,"MonikerRequest",{enumerable:!0,get:function(){return ga.MonikerRequest}});var op;(function(t){function e(r){let n=r;return Xt.string(n.language)||Xt.string(n.scheme)||Xt.string(n.pattern)}t.is=e})(op=u.DocumentFilter||(u.DocumentFilter={}));var ap;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Xt.string(n)&&!op.is(n))return!1;return!0}t.is=e})(ap=u.DocumentSelector||(u.DocumentSelector={}));var Ab;(function(t){t.type=new $.ProtocolRequestType("client/registerCapability")})(Ab=u.RegistrationRequest||(u.RegistrationRequest={}));var Ob;(function(t){t.type=new $.ProtocolRequestType("client/unregisterCapability")})(Ob=u.UnregistrationRequest||(u.UnregistrationRequest={}));var qb;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(qb=u.ResourceOperationKind||(u.ResourceOperationKind={}));var Lb;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Lb=u.FailureHandlingKind||(u.FailureHandlingKind={}));var Nb;(function(t){function e(r){let n=r;return n&&Xt.string(n.id)&&n.id.length>0}t.hasId=e})(Nb=u.StaticRegistrationOptions||(u.StaticRegistrationOptions={}));var Mb;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||ap.is(n.documentSelector))}t.is=e})(Mb=u.TextDocumentRegistrationOptions||(u.TextDocumentRegistrationOptions={}));var Fb;(function(t){function e(n){let i=n;return Xt.objectLiteral(i)&&(i.workDoneProgress===void 0||Xt.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&Xt.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(Fb=u.WorkDoneProgressOptions||(u.WorkDoneProgressOptions={}));var Ib;(function(t){t.type=new $.ProtocolRequestType("initialize")})(Ib=u.InitializeRequest||(u.InitializeRequest={}));var $b;(function(t){t.unknownProtocolVersion=1})($b=u.InitializeError||(u.InitializeError={}));var jb;(function(t){t.type=new $.ProtocolNotificationType("initialized")})(jb=u.InitializedNotification||(u.InitializedNotification={}));var Hb;(function(t){t.type=new $.ProtocolRequestType0("shutdown")})(Hb=u.ShutdownRequest||(u.ShutdownRequest={}));var Bb;(function(t){t.type=new $.ProtocolNotificationType0("exit")})(Bb=u.ExitNotification||(u.ExitNotification={}));var Wb;(function(t){t.type=new $.ProtocolNotificationType("workspace/didChangeConfiguration")})(Wb=u.DidChangeConfigurationNotification||(u.DidChangeConfigurationNotification={}));var Ub;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Ub=u.MessageType||(u.MessageType={}));var Gb;(function(t){t.type=new $.ProtocolNotificationType("window/showMessage")})(Gb=u.ShowMessageNotification||(u.ShowMessageNotification={}));var Vb;(function(t){t.type=new $.ProtocolRequestType("window/showMessageRequest")})(Vb=u.ShowMessageRequest||(u.ShowMessageRequest={}));var zb;(function(t){t.type=new $.ProtocolNotificationType("window/logMessage")})(zb=u.LogMessageNotification||(u.LogMessageNotification={}));var Qb;(function(t){t.type=new $.ProtocolNotificationType("telemetry/event")})(Qb=u.TelemetryEventNotification||(u.TelemetryEventNotification={}));var Yb;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Yb=u.TextDocumentSyncKind||(u.TextDocumentSyncKind={}));var Xb;(function(t){t.method="textDocument/didOpen",t.type=new $.ProtocolNotificationType(t.method)})(Xb=u.DidOpenTextDocumentNotification||(u.DidOpenTextDocumentNotification={}));var Jb;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(Jb=u.TextDocumentContentChangeEvent||(u.TextDocumentContentChangeEvent={}));var Kb;(function(t){t.method="textDocument/didChange",t.type=new $.ProtocolNotificationType(t.method)})(Kb=u.DidChangeTextDocumentNotification||(u.DidChangeTextDocumentNotification={}));var Zb;(function(t){t.method="textDocument/didClose",t.type=new $.ProtocolNotificationType(t.method)})(Zb=u.DidCloseTextDocumentNotification||(u.DidCloseTextDocumentNotification={}));var eR;(function(t){t.method="textDocument/didSave",t.type=new $.ProtocolNotificationType(t.method)})(eR=u.DidSaveTextDocumentNotification||(u.DidSaveTextDocumentNotification={}));var tR;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(tR=u.TextDocumentSaveReason||(u.TextDocumentSaveReason={}));var rR;(function(t){t.method="textDocument/willSave",t.type=new $.ProtocolNotificationType(t.method)})(rR=u.WillSaveTextDocumentNotification||(u.WillSaveTextDocumentNotification={}));var nR;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new $.ProtocolRequestType(t.method)})(nR=u.WillSaveTextDocumentWaitUntilRequest||(u.WillSaveTextDocumentWaitUntilRequest={}));var iR;(function(t){t.type=new $.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(iR=u.DidChangeWatchedFilesNotification||(u.DidChangeWatchedFilesNotification={}));var sR;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(sR=u.FileChangeType||(u.FileChangeType={}));var oR;(function(t){t.Create=1,t.Change=2,t.Delete=4})(oR=u.WatchKind||(u.WatchKind={}));var aR;(function(t){t.type=new $.ProtocolNotificationType("textDocument/publishDiagnostics")})(aR=u.PublishDiagnosticsNotification||(u.PublishDiagnosticsNotification={}));var uR;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(uR=u.CompletionTriggerKind||(u.CompletionTriggerKind={}));var cR;(function(t){t.method="textDocument/completion",t.type=new $.ProtocolRequestType(t.method)})(cR=u.CompletionRequest||(u.CompletionRequest={}));var lR;(function(t){t.method="completionItem/resolve",t.type=new $.ProtocolRequestType(t.method)})(lR=u.CompletionResolveRequest||(u.CompletionResolveRequest={}));var dR;(function(t){t.method="textDocument/hover",t.type=new $.ProtocolRequestType(t.method)})(dR=u.HoverRequest||(u.HoverRequest={}));var fR;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(fR=u.SignatureHelpTriggerKind||(u.SignatureHelpTriggerKind={}));var pR;(function(t){t.method="textDocument/signatureHelp",t.type=new $.ProtocolRequestType(t.method)})(pR=u.SignatureHelpRequest||(u.SignatureHelpRequest={}));var hR;(function(t){t.method="textDocument/definition",t.type=new $.ProtocolRequestType(t.method)})(hR=u.DefinitionRequest||(u.DefinitionRequest={}));var mR;(function(t){t.method="textDocument/references",t.type=new $.ProtocolRequestType(t.method)})(mR=u.ReferencesRequest||(u.ReferencesRequest={}));var gR;(function(t){t.method="textDocument/documentHighlight",t.type=new $.ProtocolRequestType(t.method)})(gR=u.DocumentHighlightRequest||(u.DocumentHighlightRequest={}));var vR;(function(t){t.method="textDocument/documentSymbol",t.type=new $.ProtocolRequestType(t.method)})(vR=u.DocumentSymbolRequest||(u.DocumentSymbolRequest={}));var yR;(function(t){t.method="textDocument/codeAction",t.type=new $.ProtocolRequestType(t.method)})(yR=u.CodeActionRequest||(u.CodeActionRequest={}));var _R;(function(t){t.method="codeAction/resolve",t.type=new $.ProtocolRequestType(t.method)})(_R=u.CodeActionResolveRequest||(u.CodeActionResolveRequest={}));var bR;(function(t){t.method="workspace/symbol",t.type=new $.ProtocolRequestType(t.method)})(bR=u.WorkspaceSymbolRequest||(u.WorkspaceSymbolRequest={}));var RR;(function(t){t.method="textDocument/codeLens",t.type=new $.ProtocolRequestType(t.method)})(RR=u.CodeLensRequest||(u.CodeLensRequest={}));var wR;(function(t){t.method="codeLens/resolve",t.type=new $.ProtocolRequestType(t.method)})(wR=u.CodeLensResolveRequest||(u.CodeLensResolveRequest={}));var SR;(function(t){t.method="workspace/codeLens/refresh",t.type=new $.ProtocolRequestType0(t.method)})(SR=u.CodeLensRefreshRequest||(u.CodeLensRefreshRequest={}));var ER;(function(t){t.method="textDocument/documentLink",t.type=new $.ProtocolRequestType(t.method)})(ER=u.DocumentLinkRequest||(u.DocumentLinkRequest={}));var CR;(function(t){t.method="documentLink/resolve",t.type=new $.ProtocolRequestType(t.method)})(CR=u.DocumentLinkResolveRequest||(u.DocumentLinkResolveRequest={}));var xR;(function(t){t.method="textDocument/formatting",t.type=new $.ProtocolRequestType(t.method)})(xR=u.DocumentFormattingRequest||(u.DocumentFormattingRequest={}));var PR;(function(t){t.method="textDocument/rangeFormatting",t.type=new $.ProtocolRequestType(t.method)})(PR=u.DocumentRangeFormattingRequest||(u.DocumentRangeFormattingRequest={}));var TR;(function(t){t.method="textDocument/onTypeFormatting",t.type=new $.ProtocolRequestType(t.method)})(TR=u.DocumentOnTypeFormattingRequest||(u.DocumentOnTypeFormattingRequest={}));var kR;(function(t){t.Identifier=1})(kR=u.PrepareSupportDefaultBehavior||(u.PrepareSupportDefaultBehavior={}));var DR;(function(t){t.method="textDocument/rename",t.type=new $.ProtocolRequestType(t.method)})(DR=u.RenameRequest||(u.RenameRequest={}));var AR;(function(t){t.method="textDocument/prepareRename",t.type=new $.ProtocolRequestType(t.method)})(AR=u.PrepareRenameRequest||(u.PrepareRenameRequest={}));var OR;(function(t){t.type=new $.ProtocolRequestType("workspace/executeCommand")})(OR=u.ExecuteCommandRequest||(u.ExecuteCommandRequest={}));var qR;(function(t){t.type=new $.ProtocolRequestType("workspace/applyEdit")})(qR=u.ApplyWorkspaceEditRequest||(u.ApplyWorkspaceEditRequest={}))});var lp=g(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.createProtocolConnection=void 0;var cp=Ur();function LR(t,e,r,n){return cp.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),cp.createMessageConnection(t,e,r,n)}Ri.createProtocolConnection=LR});var dp=g(Ie=>{"use strict";var NR=Ie&&Ie.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wi=Ie&&Ie.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&NR(e,t,r)};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.LSPErrorCodes=Ie.createProtocolConnection=void 0;wi(Ur(),Ie);wi(Af(),Ie);wi(Te(),Ie);wi(up(),Ie);var MR=lp();Object.defineProperty(Ie,"createProtocolConnection",{enumerable:!0,get:function(){return MR.createProtocolConnection}});var FR;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(FR=Ie.LSPErrorCodes||(Ie.LSPErrorCodes={}))});var pp=g(Rt=>{"use strict";var IR=Rt&&Rt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fp=Rt&&Rt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&IR(e,t,r)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createProtocolConnection=void 0;var $R=Do();fp(Do(),Rt);fp(dp(),Rt);function jR(t,e,r,n){return $R.createMessageConnection(t,e,r,n)}Rt.createProtocolConnection=jR});var kp=g((Fx,xp)=>{var Pp={};xp.exports=Pp;var Tp={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(Tp).forEach(function(t){var e=Tp[t],r=Pp[t]=[];r.open="["+e[0]+"m",r.close="["+e[1]+"m"})});var Ap=g((Ix,Dp)=>{"use strict";Dp.exports=function(t,e){e=e||process.argv;var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",i=e.indexOf(n+t);return i!==-1&&(r===-1?!0:i<r)}});var qp=g(($x,Op)=>{"use strict";var zR=require("os"),ct=Ap(),$e=process.env,Kr=void 0;ct("no-color")||ct("no-colors")||ct("color=false")?Kr=!1:(ct("color")||ct("colors")||ct("color=true")||ct("color=always"))&&(Kr=!0);"FORCE_COLOR"in $e&&(Kr=$e.FORCE_COLOR.length===0||parseInt($e.FORCE_COLOR,10)!==0);function QR(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function YR(t){if(Kr===!1)return 0;if(ct("color=16m")||ct("color=full")||ct("color=truecolor"))return 3;if(ct("color=256"))return 2;if(t&&!t.isTTY&&Kr!==!0)return 0;var e=Kr?1:0;if(process.platform==="win32"){var r=zR.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in $e)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in $e})||$e.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in $e)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test($e.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in $e){var n=parseInt(($e.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch($e.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test($e.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test($e.TERM)||"COLORTERM"in $e?1:($e.TERM==="dumb",e)}function ba(t){var e=YR(t);return QR(e)}Op.exports={supportsColor:ba,stdout:ba(process.stdout),stderr:ba(process.stderr)}});var Np=g((jx,Lp)=>{Lp.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(s){s=s.toLowerCase();var o=i[s]||[" "],a=Math.floor(Math.random()*o.length);typeof i[s]!="undefined"?n+=i[s][a]:n+=s}),n}});var Fp=g((Hx,Mp)=>{Mp.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function s(c){var d=Math.floor(Math.random()*c);return d}function o(c){var d=!1;return i.filter(function(f){d=f===c}),d}function a(c,d){var f="",h,p;d=d||{},d.up=typeof d.up!="undefined"?d.up:!0,d.mid=typeof d.mid!="undefined"?d.mid:!0,d.down=typeof d.down!="undefined"?d.down:!0,d.size=typeof d.size!="undefined"?d.size:"maxi",c=c.split("");for(p in c)if(!o(p)){switch(f=f+c[p],h={up:0,down:0,mid:0},d.size){case"mini":h.up=s(8),h.mid=s(2),h.down=s(8);break;case"maxi":h.up=s(16)+3,h.mid=s(4)+1,h.down=s(64)+3;break;default:h.up=s(8)+1,h.mid=s(6)/2,h.down=s(8)+1;break}var w=["up","mid","down"];for(var S in w)for(var E=w[S],k=0;k<=h[E];k++)d[E]&&(f=f+n[E][s(n[E].length)])}return f}return a(e,r)}});var $p=g((Bx,Ip)=>{Ip.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var Hp=g((Wx,jp)=>{jp.exports=function(t){return function(e,r,n){return r%2==0?e:t.inverse(e)}}});var Wp=g((Ux,Bp)=>{Bp.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:t[e[n++%e.length]](r)}}});var Gp=g((Gx,Up)=>{Up.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var Xp=g((zx,Vp)=>{var W={};Vp.exports=W;W.themes={};var XR=require("util"),mr=W.styles=kp(),zp=Object.defineProperties,JR=new RegExp(/[\r\n]+/g);W.supportsColor=qp().supportsColor;typeof W.enabled=="undefined"&&(W.enabled=W.supportsColor()!==!1);W.enable=function(){W.enabled=!0};W.disable=function(){W.enabled=!1};W.stripColors=W.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var Vx=W.stylize=function(e,r){if(!W.enabled)return e+"";var n=mr[r];return!n&&r in W?W[r](e):n.open+e+n.close},KR=/[|\\{}()[\]^$+*?.]/g,ZR=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(KR,"\\$&")};function Qp(t){var e=function r(){return tw.apply(r,arguments)};return e._styles=t,e.__proto__=ew,e}var Yp=function(){var t={};return mr.grey=mr.gray,Object.keys(mr).forEach(function(e){mr[e].closeRe=new RegExp(ZR(mr[e].close),"g"),t[e]={get:function(){return Qp(this._styles.concat(e))}}}),t}(),ew=zp(function(){},Yp);function tw(){var t=Array.prototype.slice.call(arguments),e=t.map(function(o){return o!=null&&o.constructor===String?o:XR.inspect(o)}).join(" ");if(!W.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var s=mr[n[i]];e=s.open+e.replace(s.closeRe,s.open)+s.close,r&&(e=e.replace(JR,function(o){return s.close+o+s.open}))}return e}W.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){W[r]=function(n){if(typeof t[r]=="object"){var i=n;for(var s in t[r])i=W[t[r][s]](i);return i}return W[t[r]](n)}})(e)};function rw(){var t={};return Object.keys(Yp).forEach(function(e){t[e]={get:function(){return Qp([e])}}}),t}var nw=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};W.trap=Np();W.zalgo=Fp();W.maps={};W.maps.america=$p()(W);W.maps.zebra=Hp()(W);W.maps.rainbow=Wp()(W);W.maps.random=Gp()(W);for(var iw in W.maps)(function(t){W[t]=function(e){return nw(W.maps[t],e)}})(iw);zp(W,rw())});var Ei=g((Qx,Jp)=>{var sw=Xp();Jp.exports=sw});Di(exports);Aa(exports,{activate:()=>uw});var oh=q(require("coc.nvim"));var Ai=q(require("coc.nvim"));var br=/\r?\n/,St="flutter",Rr="flutter-dev",qn=new RegExp("^[a-zA-Z_][a-zA-Z0-9_]*$"),Oa=qn,qa=qn;var G=class{constructor(){this.subscriptions=[]}push(...e){this.subscriptions.push(...e)}remove(e){this.subscriptions=this.subscriptions.filter(r=>e===r?(r.dispose(),!1):!0)}dispose(){this.subscriptions.length&&(this.subscriptions.forEach(e=>{e.dispose()}),this.subscriptions=[])}};var La=class extends G{init(e){this._traceServer=e,this._traceServer!=="off"&&(this._outchannel=Ai.window.createOutputChannel("flutter"),this.push(this._outchannel))}get outchannel(){return this._outchannel}get devOutchannel(){return this._devOutchannel||(this._devOutchannel=Ai.window.createOutputChannel(Rr),this.push(this._devOutchannel)),this._devOutchannel}get traceServer(){return this._traceServer}getlog(e){return r=>{r&&this._outchannel&&this._outchannel.appendLine(`[${e}]: ${r}`)}}dispose(){super.dispose(),this._outchannel=void 0,this._devOutchannel=void 0,this._traceServer=void 0}},ee=new La;var Fr=q(require("coc.nvim"));var rn=q(require("coc.nvim"));var Oi=q(require("coc.nvim"));var tn=t=>t.trim().replace(/\s+/g," ").split(br);var Et=(t,e)=>{Oi.commands.titles.set(t,e)},Ct=t=>{Oi.commands.titles.delete(t)};var Na=q(require("coc.nvim"));var mh=ee.getlog("floatWin"),qi=class extends G{constructor(e){super();this.message=e}async show(e){let{nvim:r}=Na.workspace,{message:n}=this;this.isNvimNightly===void 0&&(this.isNvimNightly=await r.call("has","nvim-0.5.0"));let i=await r.createNewBuffer(!1,!0);await i.setLines(n.lines,{start:0,end:-1,strictIndexing:!1});let s=await r.getOption("columns"),o=await r.openFloatWindow(i,!1,{focusable:!1,relative:"editor",anchor:"NE",height:n.height,width:n.width+2,row:e,col:s});this.buf=i,this.win=o,r.pauseNotification(),o.setOption("number",!1),o.setOption("wrap",!0),o.setOption("relativenumber",!1),o.setOption("cursorline",!1),o.setOption("cursorcolumn",!1),o.setOption("conceallevel",2),o.setOption("signcolumn","no"),o.setOption("winhighlight","FoldColumn:NormalFloat"),await r.resumeNotification();try{await o.setOption("foldcolumn",this.isNvimNightly?"1":1)}catch(a){mh(`set foldcolumn error: ${a.message||a}`)}}async dispose(){super.dispose(),this.buf&&(this.buf=void 0),this.win&&await this.win.close(!0)}async update(e){let{win:r}=this;if(r){let n=await r.getConfig();await r.setConfig({...n,row:e})}}};var Li=class extends G{constructor(e,r,n=1e3){super();this.lines=e;this._time=n;this.top=0;this.width=0,this.height=0;for(let i of e){let s=Buffer.byteLength(i);this.width=Math.max(this.width,Math.min(s,r)),this.height=this.height+Math.max(1,Math.ceil(s/(r-2)))}this.floatWindow=new qi(this),this.push(this.floatWindow)}get time(){return this._time}get isInvalid(){return this._time<=0}async show(e){this.top=e,await this.floatWindow.show(e)}async update(e,r){this._time-=e,this.top!==r&&(this.top=r,await this.floatWindow.update(r))}};var gh=60,vh=1e3/30,yh=3e3,Ma=class extends G{constructor(){super();this.isSupportFloat=!1;this.top=1;this.maxWidth=gh;this.messages=[];this.display=[];this.timeGap=vh;this.init()}async init(){let{nvim:e}=rn.workspace;this.isSupportFloat=!!await e.call("exists","*nvim_open_win");let r=await e.getOption("columns");this.maxWidth=Math.min(this.maxWidth,r)}async detect(){this.timer&&clearTimeout(this.timer);let{timeGap:e,display:r}=this,{top:n}=this;this.display=[];for(let o of r)o.isInvalid?o.dispose():(await o.update(e,n),n+=o.height,this.display.push(o));let{nvim:i}=rn.workspace,s=await i.getOption("lines")-1;for(;this.messages.length;){let o=this.messages[this.messages.length-1];if(n+o.height>s)break;this.messages.pop(),await o.show(n),this.display.push(o),n+=o.height}!this.messages.length&&!this.display.length||(this.timer=setTimeout(()=>{this.detect()},this.timeGap))}show(e,r=yh){let n=typeof e=="string"?tn(e):e;if(n.length!==0){if(!this.isSupportFloat)return rn.window.showMessage(n.join(`
`));this.messages.push(new Li(n,this.maxWidth,r)),this.detect()}}dispose(){this.timer&&clearTimeout(this.timer),this.push(...this.display),this.messages=[],this.display=[],super.dispose()}},V=new Ma;var vd=q(require("child_process")),Xe=q(require("coc.nvim")),yd=q(require("os"));var Nr=q(require("coc.nvim")),md=q(require("fs")),Mr=q(require("os")),de=q(require("path")),Ws=q(tu());var fd=q(require("child_process")),qr=q(require("coc.nvim")),pd=q(dd()),Lr=q(require("fs")),sr=q(require("path"));var Be=t=>Lr.default.existsSync(t),wy=async(t,e)=>(await(0,pd.default)(e,{onlyFiles:!0,cwd:t,deep:10})).map(n=>(0,sr.join)(t,(0,sr.dirname)(n))),Sy=t=>{if(t.length)return t.slice().sort((e,r)=>e.split(sr.sep).length-r.split(sr.sep).length)[0]},Ey=async(t,e)=>Sy(await wy(t,e)),tt=async()=>{let t=qr.workspace.workspaceFolder?qr.Uri.parse(qr.workspace.workspaceFolder.uri).fsPath:qr.workspace.cwd;return await Ey(t,["**/pubspec.yaml"])},Cy=ee.getlog("fs"),Ut=(t,e={})=>new Promise(r=>{Cy(`executing command ${t}`);let n=0;(0,fd.exec)(t,{encoding:"utf-8",...e},(i,s="",o="")=>{r({code:n,err:i,stdout:s.toString(),stderr:o.toString()})}).on("exit",i=>i&&(n=i))}),xy=async t=>new Promise(e=>{Lr.default.lstat(t,(r,n)=>{e({err:r,stats:n&&n.isSymbolicLink()})})}),ai=async t=>{let{err:e,stats:r}=await xy(t);return!e&&r?new Promise(n=>{Lr.default.realpath(t,(i,s)=>{if(i)return n(t);n(s)})}):t},Bs=async(t,e)=>new Promise(r=>{Lr.default.readdir(t,e,(n,i)=>r(n?[]:i))}),hd=async(t,e)=>new Promise((r,n)=>{Lr.default.readFile(t,e,(i,s)=>i?n(i):r(s))});var oe=ee.getlog("sdk"),Py=(0,de.join)("bin","snapshots","analysis_server.dart.snapshot"),Ty=(0,de.join)("bin",Mr.default.platform()==="win32"?"dart.bat":"dart"),ky=["~/snap/flutter/common/flutter"],gd=class{constructor(){this._sdkHome="";this._state=!1;this._dartHome="";this._analyzerSnapshotPath="";this._dartCommand=""}get sdkHome(){return this._sdkHome}get state(){return this._state}get dartHome(){return this._dartHome}get analyzerSnapshotPath(){return this._analyzerSnapshotPath}get dartCommand(){return this._dartCommand}get flutterCommand(){return this._flutterCommand||"flutter"}async _hasValidFlutterSdk(){return Be(this._sdkHome)&&Be((0,de.join)(this._sdkHome,"bin","flutter"))}async getVersion(){if(this._dartCommand){let{stderr:e,stdout:r}=await Ut(`${this._dartCommand} --version`);if(e){let n=e.match(/version:\s+(\d+)\.(\d+)\.(\d+)/);if(n)return oe(`dart version: v${n[1]}.${n[2]}.${n[3]}`),[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])]}else if(r){let n=r.match(/version:\s+(\d+)\.(\d+)\.(\d+)/);if(n)return oe(`dart version: v${n[1]}.${n[2]}.${n[3]}`),[parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])]}else oe("Failed to get dart version")}}async isVersionGreatOrEqualTo(e){let r=await this.getVersion();return r?r.every((n,i)=>n>=e[i]):!1}async init(e){this.config=e,await this._init()}async _init(){this._dartCommand=this.config.get("sdk.dart-command","");let e=this.config.get("sdk.dart-lookup","");this._fvmEnabled=this.config.get("fvm.enabled",!0),this._sdkHome=this.config.get("sdk.path","");let r=await this._hasValidFlutterSdk();r&&await this.initFlutterCommandsFromSdkHome();try{this._fvmEnabled&&!r&&(await this.initDartSdkHomeFromLocalFvm(),r=await this._hasValidFlutterSdk()),r||(await this.initDarkSdkHomeFromSearchPaths(),r=await this._hasValidFlutterSdk()),r||(await this.initDarkSdkHome(e),r=await this._hasValidFlutterSdk()),await this.initDartSdk(),this._state||(oe("Dart SDK not found!"),oe(JSON.stringify({dartHome:this._dartHome,analyzerSnapshotPath:this._analyzerSnapshotPath},null,2)))}catch(n){oe(n.message||"find dart sdk error!"),oe(n.stack)}}async initDarkSdkHomeFromSearchPaths(){try{let e=await this.findSdks();e.length>0&&(this._sdkHome=e[0].location,await this.initFlutterCommandsFromSdkHome())}catch(e){oe(`Error configuring sdk from searchPaths: ${e.message}}`)}}async initDartSdkHomeFromLocalFvm(){try{let e=Nr.workspace.workspaceFolder?Nr.Uri.parse(Nr.workspace.workspaceFolder.uri).fsPath:Nr.workspace.cwd,r=(0,de.join)(e,".fvm","flutter_sdk");Be(r)?(oe("Found local fvm sdk"),this._sdkHome=r,await this.initFlutterCommandsFromSdkHome()):oe("No local fvm sdk")}catch(e){oe(`Error configuring local fvm sdk: ${e.message}}`)}}async initFlutterCommandsFromSdkHome(){this._flutterCommand=(0,de.join)(this._sdkHome,"bin",Mr.default.platform()==="win32"?"flutter.bat":"flutter"),oe(`flutter command path => ${this.flutterCommand}`),Be(this._flutterCommand)||oe("flutter command path does not exist"),this._dartHome=(0,de.join)(this._sdkHome,"bin","cache","dart-sdk"),oe(`dart sdk home => ${this._dartHome}`),Be(this._dartHome)||oe("dart sdk home path does not exist")}async initDarkSdkHome(e){try{let r;if(e.length==0)r=await(0,Ws.default)("dart");else{let{stdout:n}=await Ut(e);if(r=n,n.length==0)throw new Error("dart lookup returned empty string")}oe(`which dart command => ${r}`),r&&(r=await ai(r),oe(`dart command path => ${r}`),this._dartHome=(0,de.join)((0,de.dirname)(r),".."),oe(`dart sdk home => ${this._dartHome}`))}catch(r){oe(`dart command not found: ${r.message}`)}}async initDartSdk(){this._analyzerSnapshotPath=(0,de.join)(this._dartHome,Py),oe(`analyzer path => ${this._analyzerSnapshotPath}`),this._state=Be(this._analyzerSnapshotPath),this._dartCommand||(this._dartCommand=(0,de.join)(this.dartHome,Ty),Mr.default.platform()==="win32"&&(Be(this._dartCommand)||(this._dartCommand=this._dartCommand.replace(/bat$/,"exe")))),oe(`dart command path => ${this._dartCommand}`)}execDartCommand(e,r={}){return Ut(`${this.dartCommand} ${e}`,r)}execFlutterCommand(e,r={}){return Ut(`${this.flutterCommand} ${e}`,r)}versionForSdk(e){let r=(0,de.join)(e,"version");if(!Be(r)){oe(`${r} does not exist`);return}let n=(0,md.readFileSync)(r).toString().trim();if(n.length==0){oe(`${r} was empty`);return}return oe(`${r} => ${n}`),n}async sdkWithLookup(e,r){let n;if(e.length==0)n=(await(0,Ws.default)("flutter")).trim();else{let{stdout:i}=await Ut(e);if(n=i.trim(),i.length==0)return}if(oe(`which flutter command => ${n}`),n){if(n=await ai(n),n=n.trim(),(n.toLowerCase().endsWith((0,de.join)("bin","flutter"))||n.toLowerCase().endsWith((0,de.join)("bin","flutter.bat")))&&(n=(0,de.join)(n,"..","..")),!Be((0,de.join)(n,"bin","flutter")))return;let s=this.versionForSdk(n);if(s)return{location:n,version:s,isFvm:!1,isCurrent:r==n}}}async findSdks(){let e=[],r=this.sdkHome.length==0?"":await ai(this.sdkHome),n=this.config.get("sdk.flutter-lookup",""),i=this.config.get("fvm.enabled",!0),s=(0,Mr.homedir)(),o=await this.sdkWithLookup(n,r);o&&e.push(o);let a=[...this.config.get("sdk.searchPaths",[]),...ky];oe(`searchPaths: ${a}`);for(let c of a){if(c=c.replace(/^~/,s).trim(),Be((0,de.join)(c,"bin","flutter"))){let h=this.versionForSdk(c);h&&!e.some(p=>p.location==c)&&e.push({location:c,isFvm:!1,version:h,isCurrent:c==r});continue}let f=await Bs(c);for(let h of f){let p=(0,de.join)(c,h).trim();if(!Be((0,de.join)(p,"bin","flutter"))||e.some(E=>E.location==p))continue;let S=this.versionForSdk(p);e.push({location:p,isFvm:!1,version:S||"unknown",isCurrent:p==r})}}if(i){let c=(0,de.join)(s,"fvm","versions"),d=(0,de.join)(s,"fvm",".settings");try{if(Be(d)){let p=await hd(d),w=JSON.parse(p.toString());typeof w.cachePath=="string"&&w.cachePath.trim()!=""&&(c=w.cachePath)}}catch(h){oe(`Failed to load fvm settings: ${h.message}`)}let f=await Bs(c);for(let h of f){let p=(0,de.join)(c,h).trim();if(!Be((0,de.join)(p,"bin","flutter"))||e.some(E=>E.location==p))continue;let S=this.versionForSdk(p);e.push({location:p,fvmVersion:h,isFvm:!0,version:S?`${h} (${S})`:h,isCurrent:p==r})}}return e}},ae=new gd;var or=ee.getlog("server"),_d=class extends G{constructor(){super();this.onHandler=[];this.isAutoScroll=!1;this._onError=e=>{this.task=void 0,or(`server error: ${e.message}`)};this._onExit=e=>{this.task=void 0,Xe.workspace.getConfiguration("flutter").get("autoHideDevLog",!1)&&this.outputChannel&&this.outputChannel.hide(),or(`server exit with: ${e}`)};this.push({dispose:()=>{if(this.task)try{this.task.kill(),this.task=void 0}catch(e){or(`dispose server error: ${e.message}`)}}})}devLog(e){this.outputChannel&&this.outputChannel.append(e)}get state(){return!!this.task&&this.task.stdin.writable}async start(e){if(this.task&&this.task.stdin.writable)return V.show("Flutter dev server is running!"),!1;let r=await tt();return r?(or(`server start at: ${r}, args: ${e}`),V.show("Start flutter dev server..."),this.outputChannel?this.outputChannel.clear():this.outputChannel=ee.devOutchannel,this.task=(0,vd.spawn)(ae.flutterCommand,e,{cwd:r,detached:!1,shell:yd.default.platform()==="win32"?!0:void 0}),this.task.on("exit",this._onExit),this.task.on("error",this._onError),Xe.workspace.getConfiguration("flutter").get("autoOpenDevLog",!1)&&this.openDevLog(!0),this.onHandler.length&&(this.onHandler.forEach(i=>i()),this.onHandler=[]),!0):(V.show("Flutter project workspaceFolder not found!"),!1)}onExit(e){let r=()=>{this.task.on("exit",e)};this.task?r():this.onHandler.push(r)}onError(e){this.task?this.task.on("error",e):this.onHandler.push(()=>{this.task.on("error",e)})}onData(e,r){let n=()=>{this.task[e].on("data",i=>{let s=i.toString();this.devLog(s),r(s.split(br))})};this.task&&this.task[e]?n():this.onHandler.push(n)}onStdout(e){this.onData("stdout",e)}onStderr(e){this.onData("stderr",e)}sendCommand(e){!e||(this.task&&this.task.stdin.writable?this.task.stdin.write(e):V.show("Flutter server is not running!"))}clearDevLog(){this.outputChannel&&this.outputChannel.clear()}async openDevLog(e){let n=Xe.workspace.getConfiguration("flutter").get("openDevLogSplitCommand","");if(this.outputChannel)if(!n)this.outputChannel.show(e);else{let i=await Xe.workspace.nvim.window;await Xe.workspace.nvim.command(`${n} output:///${Rr}`),e||Xe.workspace.nvim.call("win_gotoid",[i.id])}setTimeout(()=>{this.autoScrollLogWin()},1e3)}async autoScrollLogWin(){if(this.isAutoScroll)return;this.isAutoScroll=!0;let e=await Xe.workspace.nvim.buffers;for(let r of e){let n=await r.name;if(n===`output:///${Rr}`){if(!await r.attach(!1)){or(`Attach buf ${n} error`),this.isAutoScroll=!1;return}this.isAutoScroll=!0,r.listen("lines",async()=>{let s=await Xe.workspace.nvim.windows;if(!(!s||!s.length)){for(let o of s)if(await(await o.buffer).name===`output:///${Rr}`){let d=await r.length,f=await Xe.workspace.nvim.window;if(o.id===f.id)return;o.setCursor([d,0]);break}}}),r.listen("detach",()=>{this.isAutoScroll&&(or(`Unexpected detach buf ${n}`),this.isAutoScroll=!1)}),this.push(Xe.Disposable.create(()=>{if(this.isAutoScroll){this.isAutoScroll=!1;try{r.removeAllListeners(),r.detach()}catch(s){or(`Detach error ${s.message||s}`)}}}));break}}this.isAutoScroll=!1}},ue=new _d;var Us=q(require("child_process")),bd=q(require("coc.nvim")),Gs=q(require("os"));var Tt=ee.getlog("devtools-server"),Rd=class extends G{constructor(){super();this.onHandler=[];this._onError=e=>{this.launchDevToolsTask=void 0,Tt(`devtools server error: ${e.message}`)};this._onExit=e=>{this.launchDevToolsTask=void 0,Tt(`devtools server exit with: ${e}`)};this.push({dispose:()=>{if(this.port=void 0,this.PID=void 0,this.host=void 0,this.launchDevToolsTask)try{this.launchDevToolsTask.kill(),this.launchDevToolsTask=void 0}catch(e){Tt(`dispose server error: ${e.message}`)}}})}get state(){return!!(this.launchDevToolsTask&&this.port&&this.host&&this.PID)}get devToolsUri(){return this.state?`${this.host}:${this.port}`:void 0}async start(){if(this.state)return V.show("Flutter devtools is running!"),!1;let e=await tt();return e?(V.show("Launching flutter devtools..."),this.launchDevToolsTask=(0,Us.spawn)(ae.dartCommand,["pub","global","run","devtools","--machine","--try-ports","10"],{cwd:e,detached:!1,shell:Gs.default.platform()==="win32"?!0:void 0}),this.launchDevToolsTask.on("exit",this._onExit),this.launchDevToolsTask.on("error",this._onError),this.onHandler.length&&(this.onHandler.forEach(r=>r()),this.onHandler=[]),!0):(V.show("Flutter project workspaceFolder not found!"),!1)}onStdout(e){let r=()=>{this.launchDevToolsTask.stdout.on("data",n=>{let i=n.toString();try{let s=JSON.parse(i);this.port=s.params.port,this.PID=s.params.pid,this.host=s.params.host,Tt(`Devtools running at ${this.host}:${this.port} with PID: ${this.PID}`)}catch(s){Tt(`error while parsing ${i}:`),Tt(s)}e()})};this.launchDevToolsTask&&this.launchDevToolsTask.stdout?r():this.onHandler.push(r)}onStderr(e){let r=()=>{this.launchDevToolsTask.stderr.on("data",n=>{let i=n.toString();if(i.match(/No active package devtools/g)){let o=bd.window.showPrompt("Flutter pub global devtools has not been activated. Activate now?");this.handleDevToolsActivationPrompt(o,e)}else Tt(i)})};this.launchDevToolsTask&&this.launchDevToolsTask.stderr?r():this.onHandler.push(r)}async handleDevToolsActivationPrompt(e,r){if(await e){let i=await tt();if(!i)return V.show("Flutter project workspaceFolder not found!"),!1;this.activateDevToolsTask=(0,Us.spawn)(ae.dartCommand,["pub","global","activate","devtools"],{cwd:i,detached:!1,shell:Gs.default.platform()==="win32"?!0:void 0}),this.activateDevToolsTask.on("exit",()=>{r(),this.activateDevToolsTask=void 0}),this.activateDevToolsTask.on("error",s=>{V.show(`Error activating devtools: ${s.message}`),Tt(s.message),this.activateDevToolsTask=void 0}),this.push({dispose:()=>{if(this.activateDevToolsTask)try{this.activateDevToolsTask.kill(),this.activateDevToolsTask=void 0}catch(s){Tt(`Error disposing activateDevToolsTask: ${s.message}`)}}})}else V.show('You must run "Flutter pub global activate devtools" to launch a devtools browser debugger.')}},Gt=new Rd;var wd=q(require("child_process")),Vs=q(require("os"));function zs(t,e){t=[].concat(t);let r=process.platform;r==="linux"&&Vs.default.release().indexOf("Microsoft")!==-1&&(r="win32");let n;switch(r){case"win32":{n="cmd.exe",e&&t.unshift(e);break}case"darwin":{n="open",e&&(t.unshift(e),t.unshift("-a"));break}default:{n=e||"xdg-open";break}}return r==="win32"&&(t=t.map(i=>i.replace(/&/g,"^&")),t=["/c","start",'""'].concat(t)),wd.default.spawn(n,t,{detached:!0,shell:Vs.default.platform()==="win32"?!0:void 0})}var Vt=ee.getlog("dev-command"),Qs={hotReload:{cmd:"r",desc:"Hot reload"},hotRestart:{cmd:"R",desc:"Hot restart"},debugDumpAPP:{cmd:"w",desc:"You can dump the widget hierarchy of the app (debugDumpApp)",callback:()=>{ue.openDevLog()}},debugDumpRenderTree:{cmd:"t",desc:"To dump the rendering tree of the app (debugDumpRenderTree)",callback:()=>{ue.openDevLog()}},debugDumpLayerTree:{cmd:"L",desc:"For layers (debugDumpLayerTree)",callback:()=>{ue.openDevLog()}},debugDumpSemanticsTraversalOrder:{cmd:"S",desc:"Accessibility (debugDumpSemantics) for traversal order"},debugDumpSemanticsHitTestOrder:{cmd:"U",desc:"Accessibility (debugDumpSemantics) for inverse hit test order"},showWidgetInspectorOverride:{cmd:"i",desc:"To toggle the widget inspector (WidgetsApp.showWidgetInspectorOverride)"},debugPaintSizeEnabled:{cmd:"p",desc:"To toggle the display of construction lines (debugPaintSizeEnabled)"},defaultTargetPlatform:{cmd:"o",desc:"To simulate different operating systems, (defaultTargetPlatform)"},elevationChecker:{cmd:"z",desc:"To toggle the elevation checker"},showPerformanceOverlay:{cmd:"P",desc:"To display the performance overlay (WidgetsApp.showPerformanceOverlay)"},debugProfileWidgetBuilds:{cmd:"a",desc:"To enable timeline events for all widget build methods, (debugProfileWidgetBuilds)"},screenshot:{cmd:"s",desc:"To save a screenshot to flutter.png"},detach:{cmd:"d",desc:"Detach server"},quit:{cmd:"q",desc:"Quit server"},copyProfilerUrl:{desc:"Copy the observatory debugger and profiler web page to the system clipboard (register +)",callback:t=>{t.copyProfilerUrl()}},openProfiler:{desc:"Observatory debugger and profiler web page",callback:t=>{t.openProfiler()}},openDevToolsProfiler:{desc:"Load DevTools page in an external web browser",callback:t=>{t.openDevToolsProfiler()}},openDevLog:{desc:"Open flutter dev server log",callback:()=>{ue.state&&ue.openDevLog()}},clearDevLog:{desc:"Clear the flutter dev server log",callback:()=>{ue.state&&ue.clearDevLog()}}},Ys=class extends G{constructor(e){super();this.cmds=[];this.onError=e=>{Vt(`devServer error: ${e.message}
${e.stack}`),this.unRegisterCommands(),V.show(`${e.message}`)};this.onExit=e=>{Vt(`devServer exit with: ${e}`),this.unRegisterCommands(),e!==0&&e!==1&&V.show(`Flutter server exist with ${e}`)};this.onStdout=e=>{e.forEach(r=>{let n=r.match(/^\s*An Observatory debugger and profiler on .* is available at:\s*(https?:\/\/127\.0\.0\.1:\d+\/.+\/)$/);n&&(this.profilerUrl=n[1],Fr.workspace.getConfiguration("flutter").get("runDevToolsAtStartup",!1)&&this.openDevToolsProfiler())})};this.onStderr=()=>{};this.daemon=e,["run","attach"].forEach(r=>{let n=`${St}.${r}`;this.push(Fr.commands.registerCommand(n,this[`${r}Server`],this)),this.push(function(){return Et(n,`${r} flutter server`),{dispose(){Ct(n)}}}())}),this.push(ue),Vt("register dev command"),this.push(Gt)}runServer(...e){this.execute("run",e)}attachServer(...e){this.execute("attach",e)}async execute(e,r){Vt(`${e} dev server, devServer state: ${ue.state}`);let n;this.daemon.currentDevice&&!r.some(s=>s==="-d")?n=[e,"-d",this.daemon.currentDevice.id]:n=[e],await ue.start(n.concat(r))&&(ue.onError(this.onError),ue.onExit(this.onExit),ue.onStdout(this.onStdout),ue.onStderr(this.onStderr),this.registerCommands())}registerCommands(){Vt("register commands"),this.cmds.push(...Object.keys(Qs).map(e=>{let r=`${St}.dev.${e}`;Et(r,Qs[e].desc);let n=Fr.commands.registerCommand(r,this.execCmd(Qs[e]));return{dispose(){Ct(r),n.dispose()}}}))}unRegisterCommands(){Vt("unregister commands"),this.cmds&&this.cmds.forEach(e=>{e.dispose()}),this.cmds=[]}execCmd(e){return()=>{ue.state?(e.cmd&&ue.sendCommand(e.cmd),e.callback&&e.callback(this)):V.show("Flutter server is not running!")}}async copyProfilerUrl(){if(!!this.profilerUrl){if(ue.state){Fr.workspace.nvim.command(`let @+='${this.profilerUrl}'`);return}V.show("Flutter server is not running!")}}openProfiler(){if(!!this.profilerUrl){if(ue.state)try{return zs(this.profilerUrl)}catch(e){Vt(`Open browser fail: ${e.message}
${e.stack}`),V.show(`Open browser fail: ${e.message||e}`)}V.show("Flutter server is not running!")}}openDevToolsProfiler(){!this.profilerUrl||!ue.state||(Gt.state?this.launchDevToolsInBrowser():(Gt.start(),Gt.onStdout(()=>{this.launchDevToolsInBrowser()}),Gt.onStderr(()=>{this.openDevToolsProfiler()})))}launchDevToolsInBrowser(){if(Gt.state)try{let e=`http://${Gt.devToolsUri}/#/?uri=ws${encodeURIComponent(this.profilerUrl)}`;return zs(e)}catch(e){Vt(`Open browser fail: ${e.message}
${e.stack}`),V.show(`Open browser fail: ${e.message||e}`)}}dispose(){super.dispose(),this.unRegisterCommands()}};var _t=q(require("coc.nvim"));var Dy=ee.getlog("global-commands"),Xs=()=>async({cmd:t,getArgs:e},...r)=>{let n=[];e&&(n=await e()),r.length&&(n=n.concat(r));let{err:i,stdout:s,stderr:o}=await ae.execFlutterCommand(`${t} ${n.join(" ")}`),a=ee.devOutchannel;s&&a.append(`
${s}
`),o&&a.append(`
${o}
`),i&&a.append([i.message,i.stack].join(`
`)),a.show()},Ay=[{cmd:"upgrade",desc:"flutter upgrade",execute:Xs()},{cmd:"doctor",desc:"flutter doctor",execute:Xs()},{cmd:"create",desc:"flutter create",execute:Xs(),getArgs:async()=>(await _t.window.requestInput("Input project name and other params: ")).split(" ")},{cmd:"pub get",name:"pub.get",desc:"flutter pub get",execute:async()=>{let t=await tt();if(Dy(`pub get command, workspace: ${t}`),!t){V.show("Flutter project workspaceFolder not found!");return}let{code:e,err:r,stdout:n,stderr:i}=await ae.execFlutterCommand("pub get",{cwd:t});V.show(tn(n)),(r||e)&&V.show(tn(i))}},{cmd:"devices",desc:"open devices list",execute:async(t,...e)=>{_t.workspace.nvim.command(`CocList FlutterDevices ${e.join(" ")}`)}},{cmd:"emulators",desc:"open emulators list",execute:async()=>{_t.workspace.nvim.command("CocList FlutterEmulators")}}],Js=class extends G{constructor(){super();Ay.forEach(e=>{let{desc:r,execute:n,name:i}=e,s=`${St}.${i||e.cmd}`;this.push(_t.commands.registerCommand(s,async(...o)=>{let a=_t.window.createStatusBarItem(0,{progress:!0});this.push(a),a.text=r,a.show(),await n(e,...o),this.remove(a)}),_t.Disposable.create(()=>{Ct(s)})),Et(s,r)})}};var ar=q(require("coc.nvim"));var Ks=class extends G{constructor(e){super();this.requestType="dart/textDocument/super";this.cmdId=`${St}.gotoSuper`;this.push(ar.commands.registerCommand(this.cmdId,async()=>{if(!e.client)return V.show("analyzer LSP server is not running");let r=await ar.workspace.document;if(!r||!r.textDocument||r.textDocument.languageId!=="dart")return;let n=await ar.window.getCursorPosition(),i={textDocument:{uri:r.uri},position:n},s=await e.client.sendRequest(this.requestType,i);s&&ar.workspace.jumpTo(s.uri,s.range.start)})),Et(this.cmdId,"jump to the location of the super definition of the class or method")}dispose(){super.dispose(),Ct(this.cmdId)}};var Sd=q(require("coc.nvim"));var Zs=class extends G{constructor(e){super();this.restartCmdId=`${St}.lsp.restart`;this.push(Sd.commands.registerCommand(this.restartCmdId,async()=>{if(!e.client)return V.show("analyzer LSP server is not running");await e.restart()})),Et(this.restartCmdId,"restart the lsp server")}dispose(){super.dispose(),Ct(this.restartCmdId)}};var eo=class extends G{constructor(e,r){super();this.push(new Ys(r),new Js,new Zs(e),new Ks(e))}};var Jt=q(require("coc.nvim")),hp=q(pp());var mp=()=>{let t=Jt.workspace.getConfiguration("flutter").get("provider.hot-reload",!0),e;t&&(e=Jt.workspace.onDidSaveTextDocument(n=>{if(n.languageId==="dart"&&ue.state){let i=Jt.diagnosticManager.getDiagnostics(n.uri);i=Array.isArray(i)?i:Object.values(i).reduce((o,a)=>o.concat(a),[]),i&&i.find(o=>o.source==="dart"&&o.severity===hp.DiagnosticSeverity.Error)!=null||ue.sendCommand("r")}}));let r=Jt.workspace.onDidChangeConfiguration(n=>{if(n.affectsConfiguration("flutter")){let i=Jt.workspace.getConfiguration("flutter").get("provider.hot-reload",!0);t&&!i?e&&(e.dispose(),e=void 0):!t&&i&&(e=Jt.workspace.onDidSaveTextDocument(s=>{s.languageId==="dart"&&ue.state&&ue.sendCommand("r")}))}});return{dispose(){e&&e.dispose(),r.dispose()}}};var Si=q(require("coc.nvim"));var HR=ee.getlog("Pub provider"),gp=()=>Si.workspace.onDidSaveTextDocument(async t=>{if(t.uri&&t.uri.endsWith("pubspec.yaml")){if(!await tt()){HR("Flutter project not found!");return}Si.commands.executeCommand("flutter.pub.get")}});var va=class extends G{constructor(){super();this.push(mp(),gp())}};var ut=q(require("coc.nvim")),Ep=q(require("os"));var Pn=q(require("coc.nvim"));var vp=class extends G{constructor(){super(...arguments);this.isLSPReady=!1;this.statusBar=void 0}get isInitialized(){return this.statusBar!=null}ready(){this.isLSPReady=!0,this.progress(!1)}init(){this.statusBar=Pn.window.createStatusBarItem(0,{progress:!1}),this.push(this.statusBar),this.push(Pn.workspace.registerAutocmd({event:"BufEnter",request:!1,callback:async()=>{var e;this.isLSPReady&&((await Pn.workspace.document).filetype==="dart"?this.isLSPReady&&((e=this.statusBar)==null||e.show()):this.hide())}}))}updateDevice(e,r){this.currentDevice=e,r?(this.loadingDevices=!0,this.show("Loading devices...",!0)):this.loadingDevices?(this.loadingDevices=!1,this.progress(!1)):this.show(this.currentDevice||"No device available")}restartingLsp(){this.isLSPReady=!1,this.loadingDevices=void 0,this.currentDevice=void 0,this.show("restartingLsp...",!0)}show(e,r){this.statusBar&&(this.statusBar.text=e,r!==void 0&&(this.statusBar.isProgress=r),this.statusBar.show())}hide(){this.statusBar&&this.statusBar.hide()}progress(e=!0){this.statusBar&&(this.statusBar.isProgress=e,!e&&this.loadingDevices!=null?this.show(this.currentDevice||"No device available"):this.hide())}dispose(){super.dispose(),this.statusBar=void 0}},ze=new vp;var Ke=q(require("coc.nvim"));var BR=ee.getlog("lsp-closing-labels"),WR="flutter-closing-label",yp="FlutterClosingLabel",Tn={},ya=class extends G{constructor(e){super();this.nsIds={};this.onClosingLabels=async e=>{let{uri:r,labels:n}=e;if(!n.length)return;let i=await Ke.workspace.document,s=Ke.workspace.getDocument(r);if(!s||!i)return;let o=await Ke.workspace.nvim.mode;if(o.mode&&o.mode.startsWith("i")){Tn[r]=e;return}this.updateClosingLabels(s,e)};this.checkClosingLabels=async()=>{let e=await Ke.workspace.document;if(!e||!Tn[e.uri])return;let r=Tn[e.uri];delete Tn[e.uri],this.onClosingLabels(r)};this.updateClosingLabels=async(e,r)=>{let{nvim:n}=Ke.workspace,{buffer:i}=e,{uri:s,labels:o}=r;this.nsIds[s]!==void 0&&i.clearNamespace(this.nsIds[s],1,-1),this.nsIds[s]=await n.createNamespace(WR),n.pauseNotification();for(let a of o)i.setVirtualText(this.nsIds[s],a.range.end.line,[[`${this.flutterClosingLabelPrefix}${a.label}`,yp]]);await n.resumeNotification()};this.init(e),BR("register closing labels"),this.flutterClosingLabelPrefix=Ke.workspace.getConfiguration("flutter").get("closingLabelPrefix","// ")}async init(e){let{nvim:r}=Ke.workspace;!r.hasFunction("nvim_buf_set_virtual_text")||(await r.command(`highlight default link ${yp} Comment`),e.onNotification("dart/textDocument/publishClosingLabels",this.onClosingLabels),this.push(Ke.workspace.registerAutocmd({event:"InsertLeave",pattern:"*.dart",callback:this.checkClosingLabels}),Ke.Disposable.create(()=>{Tn={}})))}dispose(){super.dispose();let e=Object.keys(this.nsIds);e.length&&e.forEach(r=>{let n=Ke.workspace.getDocument(r);!n||n.buffer.clearNamespace(this.nsIds[r],1,-1)})}};var _p=async(t,e,r,n,i)=>{let s=await i(t,e,r,n);if(!s)return s;s=s.map(a=>a.kind&&a.kind.startsWith("quickfix.import")?{...a,isPreferred:!0}:a);let o=s.slice();return s.some(a=>{if(a.title==="Wrap with widget..."&&a.edit){let c=a.edit;if(!c||!c.documentChanges)return!0;let d=c.documentChanges;if(!d||d.length===0)return!0;let f={...a,title:"Delete this widget",edit:{...c,documentChanges:[{...d[0],edits:[{...d[0].edits[0]||{},newText:""}]}]}};return o.push(f),!0}return!1}),o};var Rp=q(require("coc.nvim"));var Ze=q(require("coc.nvim")),UR=/^(.*)\(…\)$/,GR=/^(.*)\(\)$/,VR=/^([^ ]+?:\s+),$/,bp=t=>e=>{let{label:r,insertTextFormat:n}=e;if(e.insertTextFormat===Ze.InsertTextFormat.Snippet&&e.filterText&&delete e.filterText,e.textEdit&&delete e.textEdit,e.insertTextFormat===Ze.InsertTextFormat.Snippet&&e.insertText&&e.insertText.endsWith("${1:}")&&(e.insertTextFormat=Ze.InsertTextFormat.PlainText,e.insertText=e.insertText.slice(0,-5)),r==="import '';"&&n!==Ze.InsertTextFormat.Snippet)return e.insertText="import '${1}';${0}",e.insertTextFormat=Ze.InsertTextFormat.Snippet,e;if(r==="setState(() {});"&&n!==Ze.InsertTextFormat.Snippet)return e.insertText=["setState(() {","	${1}","});${0}"].join(`
`),e.insertTextFormat=Ze.InsertTextFormat.Snippet,e;let i=r.match(VR);if(i)return e.insertText=`${i[1]}\${1},\${0}`,e.insertTextFormat=Ze.InsertTextFormat.Snippet,e;if(t.completeFunctionCalls&&e.insertTextFormat!==Ze.InsertTextFormat.Snippet){if(i=r.match(GR),i)return e.insertText=`${i[1]}()\${0}`,e.insertTextFormat=Ze.InsertTextFormat.Snippet,e;if(i=r.match(UR),i)return e.insertText=`${i[1]}(\${1})\${0}`,e.insertTextFormat=Ze.InsertTextFormat.Snippet,e}return e};var wp=async(t,e,r,n,i)=>{let s=await i(t,e,r,n),o;s.isIncomplete!==void 0?o=s.items:o=s;let a=Rp.workspace.getConfiguration("dart"),c=bp({completeFunctionCalls:a.get("completeFunctionCalls",!0)});return o=o.map(c),s.isIncomplete!==void 0?{items:o,isIncomplete:s.isIncomplete}:o};var Mt=q(require("coc.nvim"));var Sp=async(t,e,r)=>{if(t==="refactor.perform"){let n=6;if(e&&e.length===n){let i=-32011,s=e[0],o=5,a;switch(s){case"EXTRACT_METHOD":if(a=await Mt.window.requestInput("Enter a name for the method","NewMethod"),!a)return;if(!qn.test(a))return Mt.window.showErrorMessage("Enter a valid method name");e[o]=Object.assign({},e[o],{name:a});break;case"EXTRACT_WIDGET":if(a=await Mt.window.requestInput("Enter a name for the widget","NewWidget"),!a)return;if(!Oa.test(a))return Mt.window.showErrorMessage("Enter a valid widget name");e[o]=Object.assign({},e[o],{name:a});break;case"EXTRACT_LOCAL_VARIABLE":if(a=await Mt.window.requestInput("Enter a name for the variable","NewVariable"),!a)return;if(!qa.test(a))return Mt.window.showErrorMessage("Enter a valid variable name");e[o]=Object.assign({},e[o],{name:a});break}try{return await r(t,e)}catch(c){if(Mt.window.showErrorMessage(c.message),(c==null?void 0:c.code)===i){Mt.window.showErrorMessage(c.message);return}else throw c}}}return r(t,e)};var kn=ee.getlog("lsp-server"),Cp=class{get command(){return ae.dartCommand}get args(){return[ae.analyzerSnapshotPath,"--lsp"]}},_a=class extends G{constructor(e){super();this.execOptions=new Cp;this.daemon=e,this.init()}get client(){return this._client}async init(){let e=ut.workspace.getConfiguration("flutter"),r=e.get("lsp.debug");if(ae.state||(await ae.init(e),this.push(this.daemon),this.daemon.start()),!ae.state){kn("flutter SDK not found!");return}let n={run:this.execOptions,debug:this.execOptions},i=e.get("lsp.initialization",{onlyAnalyzeProjectsWithOpenFiles:!0,suggestFromUnimportedLibraries:!0,closingLabels:!0}),s=await ae.isVersionGreatOrEqualTo([2,6,0]);kn(`rightVersion ${s}`);let o={disableDynamicRegister:!s,documentSelector:[{scheme:"file",language:"dart"}],initializationOptions:i,outputChannelName:"flutter-lsp",revealOutputChannelOn:ut.RevealOutputChannelOn.Never,middleware:{provideCompletionItem:e.get("provider.enableSnippet",!0)?wp:void 0,provideCodeActions:_p,executeCommand:Sp,workspace:{didChangeWorkspaceFolders(c,d){if(c.added.length&&ae.sdkHome!==""){let f=e.get("workspaceFolder.ignore",[]).concat(ae.sdkHome).map(h=>(h=h.replace(/^(~|\$HOME)/,(0,Ep.homedir)()),ut.Uri.file(h).toString()));c.added=c.added.filter(h=>!f.some(p=>h.uri.startsWith(p)))}(c.added.length||c.removed.length)&&d(c)}}}},a=new ut.LanguageClient("flutter","flutter analysis server",n,o,r);this._client=a,ze.isInitialized||(ze.init(),this.push(ze)),a.onReady().then(()=>{kn("analysis server ready!"),i.closingLabels&&this.push(new ya(a)),ze.ready()}).catch(c=>{ze.hide(),kn(c.message||"start analysis server fail!"),kn(c.stack)}),this.push(ut.services.registLanguageClient(a))}async reloadSdk(){let e=ut.workspace.getConfiguration("flutter");await ae.init(e)}async restart(){var e,r,n;ze.restartingLsp(),await this.reloadSdk(),await((e=this._client)==null?void 0:e.stop()),this.daemon.stop(),this.daemon.start(),(r=this._client)==null||r.onReady().then(()=>{ze.ready()}),(n=this._client)==null||n.start()}};var Pi=q(require("coc.nvim"));var xi=q(require("coc.nvim")),wa=q(Ei());var Zp=q(require("child_process")),Ci=q(require("coc.nvim")),eh=q(require("os"));var Kp=t=>new Promise(e=>{setTimeout(()=>{e()},t)});var et=ee.getlog("daemon"),ow=ee.getlog("daemon_output"),Qe;(function(t){t[t.dontStore=0]="dontStore",t[t.memory=1]="memory",t[t.workspaceState=2]="workspaceState",t[t.globalState=3]="globalState",t[t.workspaceConfig=4]="workspaceConfig",t[t.globalConfig=5]="globalConfig"})(Qe||(Qe={}));var Kt="selectedDeviceId",th=15e3,Ra=class extends G{constructor(e){super();this.eventHandlers={};this.currentId=1;this.responseCallbacks=new Map;this._devices=new Map;this.onStdout=e=>{e.toString().trim().split(`
`).map(n=>n.trim()).forEach(n=>{if(n.match(/^\[{.*}\]$/)){let i=JSON.parse(n)[0];this.onMessage(i)}else ow(n)})};this.onMessage=e=>{et(`got message: ${JSON.stringify(e,null,2)}`);let r=e.id;if(r&&this.responseCallbacks.has(r)&&(this.responseCallbacks.get(r)(e),this.responseCallbacks.delete(r)),!e.event){et("Message without event");return}if(!(e.event in this.eventHandlers)){et(`Unhandled event: ${e.event}`);return}this.eventHandlers[e.event](e.params)};this.onExit=e=>{this.process=void 0,et(`daemon exited with: ${e}`)};this.onError=e=>{this.process=void 0,et(`daemon error: ${e}`)};this.logMessage=e=>{if(!e||!("message"in e)){et("got invalid logmessage event");return}V.show(e.message)};this.connected=async()=>{ze.updateDevice(void 0,!0);try{await this.sendRequest({id:this.currentId++,method:"device.enable"}),await Kp(th),this.devices.length||ze.updateDevice(void 0,!1)}catch(e){et(`${e}`)}};this.deviceAdded=e=>{if(!e){et("got invalid device.added event");return}let r=e;et(`New device: ${r.name}`),this._devices.set(r.id,r),(!this._currentDevice||r.id==this.selectedDeviceId)&&this.updateCurrentDevice()};this.deviceRemoved=e=>{var n;if(!e){et("got invalid device.added event");return}let r=e;this._devices.delete(r.id),((n=this._currentDevice)==null?void 0:n.id)==r.id&&this.updateCurrentDevice()};this.workspaceState=e.workspaceState,this.globalState=e.globalState,this.loadSelectedDeviceId(),this.push(Ci.Disposable.create(()=>{var r;this.responseCallbacks.clear();try{(r=this.process)==null||r.kill(),this.process=void 0}catch(n){et(`dispose server error: ${n.message}`)}})),this.eventHandlers["daemon.logMessage"]=this.logMessage,this.eventHandlers["daemon.connected"]=this.connected,this.eventHandlers["device.added"]=this.deviceAdded,this.eventHandlers["device.removed"]=this.deviceRemoved}get currentDevice(){return this._currentDevice}get devices(){return[...this._devices.values()]}get config(){return Ci.workspace.getConfiguration("flutter")}loadSelectedDeviceId(){let e=this.config.inspect(Kt),r=this.workspaceState.get(Kt),n=this.globalState.get(Kt);(e==null?void 0:e.workspaceValue)?this.selectedDeviceId=e.workspaceValue:r?this.selectedDeviceId=r:(e==null?void 0:e.globalValue)?this.selectedDeviceId=e.globalValue:n&&(this.selectedDeviceId=n)}async sendRequest(e){return new Promise((r,n)=>{if(!this.process||!this.process.stdin.writable){n(`Daemon not running but got request: ${JSON.stringify(e)}`);return}this.responseCallbacks.set(e.id,s=>{r(s)}),setTimeout(()=>{this.responseCallbacks.has(e.id)&&(this.responseCallbacks.delete(e.id),r())},th);let i=`[${JSON.stringify(e)}]
`;this.process.stdin.write(i)})}async start(){var i;if(this.process&&this.process.stdin.writable)return et("Tried starting daemon while it was already running"),!1;let e=await tt();if(!e)return V.show("Flutter project workspaceFolder not found!"),!1;(i=this.process)==null||i.kill();let r=["daemon"],n=(0,Zp.spawn)(ae.flutterCommand,r,{cwd:e,detached:!1,shell:eh.default.platform()==="win32"?!0:void 0});return this.process=n,n.on("exit",this.onExit),n.on("error",this.onError),n.stdout.on("data",this.onStdout),!0}stop(){this.process&&(this._currentDevice=void 0,this._devices.clear(),this.process.kill(),this.process=void 0)}updateCurrentDevice(){var e;this.selectedDeviceId&&this._devices.has(this.selectedDeviceId)?this._currentDevice=this._devices.get(this.selectedDeviceId):this._currentDevice=this._devices.size>0?this._devices.values().next().value:void 0,ze.updateDevice((e=this._currentDevice)==null?void 0:e.name,!1)}selectDevice(e,r){var n;switch(this._currentDevice=e,r!==0&&(this.selectedDeviceId=e.id),r){case 2:this.workspaceState.update(Kt,e.id),this.config.update(Kt,void 0);break;case 3:this.globalState.update(Kt,e.id);break;case 4:this.config.update(Kt,e.id);break;case 5:this.config.update(Kt,e.id,!0);break}ze.updateDevice((n=this._currentDevice)==null?void 0:n.name,!1)}};var Sa=class{constructor(e){this.name="FlutterDevices";this.description="flutter devices list";this.actions=[];this.daemon=e,this.actions.push({name:"select (workspace state)",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;e.selectDevice(n,Qe.workspaceState)}}),this.actions.push({name:"select (workspace config)",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;e.selectDevice(n,Qe.workspaceConfig)}}),this.actions.push({name:"select (global state)",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;e.selectDevice(n,Qe.globalState)}}),this.actions.push({name:"select (global config)",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;e.selectDevice(n,Qe.globalConfig)}}),this.actions.push({name:"select (current session)",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;e.selectDevice(n,Qe.memory)}}),this.actions.push({name:"run",multiple:!1,execute:async(r,n)=>{Array.isArray(r)||xi.commands.executeCommand("flutter.run","-d",r.data.deviceId,...n.args)}})}get defaultAction(){switch(xi.workspace.getConfiguration("flutter").get("devicesDefaultAction","workspaceState")){case"runOnce":return"run";case"globalState":return"select (global state)";case"globalConfig":return"select (global config)";case"workspaceConfig":return"select (workspace config)";case"currentSession":return"select (current session)";default:return"select (workspace state)"}}async loadItems(){return this.daemon.devices.map(r=>({label:`${wa.default.yellow(r.name)} \u2022 ${wa.default.gray(`${r.id} \u2022 ${r.platform}`)}`,filterText:r.name,data:r}))}},rh=Sa;var Ea=q(Ei());var Ca=class{constructor(){this.name="FlutterEmulators";this.description="flutter emulators list";this.defaultAction="run";this.actions=[];this.actions.push({name:"run",multiple:!1,execute:async e=>{Array.isArray(e)||(V.show(`launch emulator ${e.data.id}`),await ae.execFlutterCommand(`emulators --launch ${e.data.id}`))}})}async loadItems(){let{err:e,stdout:r}=await ae.execFlutterCommand("emulators"),n=[];return e||(n=r.split(br).filter(i=>i.split("\u2022").length===4).map(i=>{let s=i.split("\u2022");return{name:s[1].trim(),id:s[0].trim(),platform:s[2].trim(),system:s[3].trim()}})),n.map(i=>({label:`${Ea.default.yellow(i.id)} \u2022 ${Ea.default.gray(`${i.name} \u2022 ${i.platform} \u2022 ${i.system}`)}`,filterText:i.name,data:i}))}},nh=Ca;var Zr=q(require("coc.nvim")),Dn=q(Ei());var ih=q(require("path")),aw=ee.getlog("SdksList"),xa=class{constructor(e){this.name="FlutterSDKs";this.description="list of local flutter sdks";this.defaultAction="switch";this.actions=[];this.actions.push({name:"switch",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;if(n.isCurrent)return;let i=Zr.workspace.getConfiguration("flutter");n.isFvm?(await Ut(`fvm use ${n.fvmVersion}`),i.update("sdk.path",(0,ih.join)(".fvm","flutter_sdk")),aw(`swithed to ${n.version} using fvm`)):i.update("sdk.path",n.location),await e.reloadSdk(),await Zr.commands.executeCommand("flutter.pub.get"),await e.restart()}}),this.actions.push({name:"global switch",multiple:!1,execute:async r=>{if(Array.isArray(r))return;let n=r.data;if(n.isCurrent)return;Zr.workspace.getConfiguration("flutter").update("sdk.path",n.location,!0),await e.restart(),Zr.commands.executeCommand("flutter.pub.get")}})}async loadItems(){return(await ae.findSdks()).map(r=>({label:`${r.isCurrent?Dn.default.yellow(r.version)+Dn.default.bold(" (current)"):Dn.default.yellow(r.version)} \u2022 ${Dn.default.gray(`${r.location}`)}`,filterText:r.location,data:r}))}},sh=xa;var Pa=class extends G{constructor(e,r){super();this.push(Pi.listManager.registerList(new rh(r)),Pi.listManager.registerList(new nh),Pi.listManager.registerList(new sh(e)))}};async function uw(t){let e=oh.workspace.getConfiguration("flutter");if(!e.get("enabled",!0))return;t.subscriptions.push(ee),ee.init(e.get("trace.server","off"));let n=new Ra({workspaceState:t.workspaceState,globalState:t.globalState});t.subscriptions.push(n);let i=new _a(n);t.subscriptions.push(i),t.subscriptions.push(new eo(i,n)),t.subscriptions.push(new va),t.subscriptions.push(new Pa(i,n))}
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
