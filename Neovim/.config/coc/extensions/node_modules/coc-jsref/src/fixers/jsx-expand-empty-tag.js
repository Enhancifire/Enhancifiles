"use strict";
exports.__esModule = true;
var Range = require("../range");
var Ast = require("../ast");
var Patch = require("../patch");
var fixer = {
    suggestCodeAction: function (params) {
        var j = params.j, ast = params.ast;
        var node = Ast.findFirstNode(ast, j.JSXElement, function (n) {
            return (!!n.loc &&
                Range.isInside(params.selection, n.loc) &&
                n.closingElement === null &&
                n.openingElement.selfClosing === true);
        });
        if (!node || !node.loc) {
            return null;
        }
        var tagNameNode = node.openingElement.name;
        var tagName = j.JSXIdentifier.check(tagNameNode) ? tagNameNode.name : 'tag';
        return {
            title: "Expand " + tagName,
            data: node.loc.start
        };
    },
    createEdit: function (params) {
        var data = params.data, ast = params.ast, j = params.j;
        var node = Ast.findFirstNode(ast, j.JSXElement, function (n) { return Ast.isOnPosition(n, data); });
        if (!node) {
            return null;
        }
        var newNode = Ast.cloneNode(j, node);
        if (!newNode) {
            return null;
        }
        newNode.closingElement = j.jsxClosingElement(node.openingElement.name);
        newNode.openingElement.selfClosing = false;
        return Patch.replaceNode(j, node, newNode);
    }
};
exports["default"] = fixer;
